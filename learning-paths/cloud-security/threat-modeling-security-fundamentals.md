

- –õ–µ–∫—Ü—ñ—è 1 - –¢–µ—Ä–º—ñ–Ω–æ–ª–æ–≥—ñ—á–Ω—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ –Ω–∞–ø—Ä—è–º–∫—ñ–≤ —Ä–æ–±–æ—Ç–∏ –∑ –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω–∏, https://www.youtube.com/watch?v=ptR927T5GIg&list=PLFGelpaZu_4_pJVl5RbggaeyNYk7Cr1e6&index=1
- –õ–µ–∫—Ü—ñ—è 2 ‚Äì –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –∑–∞–≥—Ä–æ–∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–æ—ó –±–µ–∑–ø–µ–∫–∏, https://www.youtube.com/watch?v=ohBq6wL8WAw&list=PLFGelpaZu_4_pJVl5RbggaeyNYk7Cr1e6&index=2
- –õ–µ–∫—Ü—ñ—è 3 ‚Äì –û—Å–Ω–æ–≤–∏ —Ä–æ–±–æ—Ç–∏ –∑ –ø—Ä–æ–≥—Ä–∞–º–Ω–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –∑–∞–≥—Ä–æ–∑ Microsoft Threat Modeling Tool, https://www.youtube.com/watch?v=0DY00dWU-0U&list=PLFGelpaZu_4_pJVl5RbggaeyNYk7Cr1e6&index=3
- –õ–µ–∫—Ü—ñ—è 8 ‚Äì –ú–æ–¥–µ–ª—ñ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å–∞–Ω–∫—Ü—ñ–æ–Ω–æ–≤–∞–Ω–∏–º –¥–æ—Å—Ç—É–ø–æ–º –¥–æ –¥–∞–Ω–∏—Ö, https://www.youtube.com/watch?v=I8rFuWD0qjA&list=PLFGelpaZu_4_pJVl5RbggaeyNYk7Cr1e6&index=4
- –õ–µ–∫—Ü—ñ—è 9 ‚Äì –ú–µ—Ç–æ–¥–∏–∫–∞ –∑–∞—Ö–∏—Å—Ç—É –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –≤—ñ–¥ –∞—Ç–∞–∫ –Ω–∞ –æ—Å–Ω–æ–≤—ñ SQL-—ñ–Ω‚Äô—î–∫—Ü—ñ–π, https://www.youtube.com/watch?v=z1sdSot5Le8&list=PLFGelpaZu_4_pJVl5RbggaeyNYk7Cr1e6&index=5
- –õ–µ–∫—Ü—ñ—è 10 - –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—ñ—á–Ω–∏–π –∑–∞—Ö–∏—Å—Ç –∫–ª—ñ—î–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω–æ—ó –≤–∑–∞—î–º–æ–¥—ñ—ó –≤ –°–ö–ë–î PostgreSQL, https://www.youtube.com/watch?v=H8AevDmIo3w&list=PLFGelpaZu_4_pJVl5RbggaeyNYk7Cr1e6&index=6
- –õ–µ–∫—Ü—ñ—è 11 ‚Äì –ó–∞—Ö–∏—Å—Ç –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –≤—ñ–¥ –∞—Ç–∞–∫ –Ω–∞ –∑–∞—Å–æ–±–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –≤ –°–ö–ë–î PostgreSQL, https://www.youtube.com/watch?v=UM95Ss8hOqY&list=PLFGelpaZu_4_pJVl5RbggaeyNYk7Cr1e6&index=7
- –õ–µ–∫—Ü—ñ—è 12 ‚Äì –ï—Ç–∞–ø–∏ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è –ø–æ–±—É–¥–æ–≤–∏ –°-–ø—Ä–æ–≥—Ä–∞–º, https://www.youtube.com/watch?v=Jb4shuZYGj8



# –ö—É—Ä—Å "–û—Å–Ω–æ–≤–∏ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –∑–∞–≥—Ä–æ–∑" (Threat Modeling Fundamentals)

## üìñ –ó–∞–≥–∞–ª—å–Ω–∏–π –æ–ø–∏—Å –∫—É—Ä—Å—É

–¶–µ–π –∫—É—Ä—Å –≤—ñ–¥ Microsoft Learn –ø—Ä–∏—Å–≤—è—á–µ–Ω–∏–π **–º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—é –∑–∞–≥—Ä–æ–∑** - —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–Ω–æ–º—É –ø—ñ–¥—Ö–æ–¥—É –¥–æ –≤–∏—è–≤–ª–µ–Ω–Ω—è, –æ—Ü—ñ–Ω–∫–∏ —Ç–∞ –ø–æ–º'—è–∫—à–µ–Ω–Ω—è –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏—Ö –∑–∞–≥—Ä–æ–∑ –±–µ–∑–ø–µ—Ü—ñ –≤ —Å–∏—Å—Ç–µ–º–∞—Ö —Ç–∞ –¥–æ–¥–∞—Ç–∫–∞—Ö.

## üéØ –©–æ —Ç–∞–∫–µ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –∑–∞–≥—Ä–æ–∑?

**–ú–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –∑–∞–≥—Ä–æ–∑** - —Ü–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π –ø—Ä–æ—Ü–µ—Å, —è–∫–∏–π –¥–æ–ø–æ–º–∞–≥–∞—î:
- –í–∏—è–≤–∏—Ç–∏ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ –≤ —Å–∏—Å—Ç–µ–º—ñ –Ω–∞ –µ—Ç–∞–ø—ñ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è
- –ó—Ä–æ–∑—É–º—ñ—Ç–∏, —è–∫ –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫–∏ –º–æ–∂—É—Ç—å –∞—Ç–∞–∫—É–≤–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—É
- –†–æ–∑—Ä–æ–±–∏—Ç–∏ –∫–æ–Ω—Ç—Ä–∑–∞—Ö–æ–¥–∏ –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ –∑–∞–≥—Ä–æ–∑
- –ü–æ–∫—Ä–∞—â–∏—Ç–∏ –∑–∞–≥–∞–ª—å–Ω—É –±–µ–∑–ø–µ–∫—É –ø—Ä–æ–¥—É–∫—Ç—É

## üìö –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫—É—Ä—Å—É

–ö—É—Ä—Å —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –∫—ñ–ª—å–∫–æ—Ö –º–æ–¥—É–ª—ñ–≤:

### 1. **–í—Å—Ç—É–ø –¥–æ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –∑–∞–≥—Ä–æ–∑**
- –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó —Ç–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∏
- –ù–∞–≤—ñ—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–µ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –∑–∞–≥—Ä–æ–∑
- –ú—ñ—Å—Ü–µ –≤ —Ü–∏–∫–ª—ñ —Ä–æ–∑—Ä–æ–±–∫–∏ –ü–ó

### 2. **–ú–µ—Ç–æ–¥–æ–ª–æ–≥—ñ—ó –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –∑–∞–≥—Ä–æ–∑**
- **STRIDE** (Spoofing, Tampering, Repudiation, Information Disclosure, Denial of Service, Elevation of Privilege)
- **PASTA** (Process for Attack Simulation and Threat Analysis)
- **DREAD** (Damage, Reproducibility, Exploitability, Affected Users, Discoverability)

### 3. **–ü—Ä–∞–∫—Ç–∏—á–Ω–∏–π –ø—Ä–æ—Ü–µ—Å**
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥—ñ–∞–≥—Ä–∞–º –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ —Å–∏—Å—Ç–µ–º–∏
- –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∞–∫—Ç–∏–≤—ñ–≤ —Ç–∞ —Ç–æ—á–æ–∫ –≤—Ö–æ–¥—É
- –ê–Ω–∞–ª—ñ–∑ –ø–æ—Ç–æ–∫—ñ–≤ –¥–∞–Ω–∏—Ö
- –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –º–µ–∂ –¥–æ–≤—ñ—Ä–∏ (trust boundaries)

### 4. **–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ç–∞ —Ç–µ—Ö–Ω—ñ–∫–∏**
- Microsoft Threat Modeling Tool
- –î—ñ–∞–≥—Ä–∞–º–∏ –ø–æ—Ç–æ–∫—ñ–≤ –¥–∞–Ω–∏—Ö (DFD)
- –î–µ—Ä–µ–≤–∞ –∞—Ç–∞–∫ (Attack Trees)
- –ú–∞—Ç—Ä–∏—Ü—ñ —Ä–∏–∑–∏–∫—ñ–≤

## üèÜ –ù–∞–≤–∏—á–∫–∏, —è–∫—ñ –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ

### **–¢–µ—Ö–Ω—ñ—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏:**
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–¥–µ–ª–µ–π –∑–∞–≥—Ä–æ–∑ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ —Å–∏—Å—Ç–µ–º
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è STRIDE –º–µ—Ç–æ–¥–æ–ª–æ–≥—ñ—ó
- –†–æ–±–æ—Ç–∞ –∑ –¥—ñ–∞–≥—Ä–∞–º–∞–º–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
- –ê–Ω–∞–ª—ñ–∑ –ø–æ—Ç–æ–∫—ñ–≤ –¥–∞–Ω–∏—Ö —Ç–∞ –º–µ–∂ –¥–æ–≤—ñ—Ä–∏

### **–ê–Ω–∞–ª—ñ—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏:**
- –°–∏—Å—Ç–µ–º–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É –±–µ–∑–ø–µ–∫–∏
- –û—Ü—ñ–Ω–∫–∞ —Ä–∏–∑–∏–∫—ñ–≤ —Ç–∞ —ó—Ö –ø—Ä—ñ–æ—Ä–∏—Ç–∏–∑–∞—Ü—ñ—è
- –†–æ–∑—Ä–æ–±–∫–∞ —Å—Ç—Ä–∞—Ç–µ–≥—ñ–π –ø–æ–º'—è–∫—à–µ–Ω–Ω—è –∑–∞–≥—Ä–æ–∑

### **–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏:**
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –∑–∞–≥—Ä–æ–∑ —É –ø—Ä–æ—Ü–µ—Å —Ä–æ–∑—Ä–æ–±–∫–∏
- –°–ø—ñ–≤–ø—Ä–∞—Ü—é –∑ –∫–æ–º–∞–Ω–¥–∞–º–∏ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤
- –î–æ–∫—É–º–µ–Ω—Ç—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –∞–Ω–∞–ª—ñ–∑—É

## üë• –î–ª—è –∫–æ–≥–æ —Ü–µ–π –∫—É—Ä—Å?

### **–û—Å–Ω–æ–≤–Ω–∞ –∞—É–¥–∏—Ç–æ—Ä—ñ—è:**
- **Security Engineers** —Ç–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç–æ—Ä–∏ –±–µ–∑–ø–µ–∫–∏
- **Software Architects** —Ç–∞ —Å–∏—Å—Ç–µ–º–Ω—ñ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏
- **DevSecOps Engineers**
- **Product Security** —Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç–∏

### **–î–æ–¥–∞—Ç–∫–æ–≤–∞ –∞—É–¥–∏—Ç–æ—Ä—ñ—è:**
- –†–æ–∑—Ä–æ–±–Ω–∏–∫–∏, —è–∫—ñ —Ö–æ—á—É—Ç—å –ø–æ–∫—Ä–∞—â–∏—Ç–∏ –±–µ–∑–ø–µ–∫—É —Å–≤–æ–≥–æ –∫–æ–¥—É
- IT-–º–µ–Ω–µ–¥–∂–µ—Ä–∏, –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ –∑–∞ –±–µ–∑–ø–µ–∫—É –ø—Ä–æ–¥—É–∫—Ç—ñ–≤
- –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–∏ –∑ –∫—ñ–±–µ—Ä–±–µ–∑–ø–µ–∫–∏

## üõ†Ô∏è –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è

### **–í —Ä–æ–∑—Ä–æ–±—Ü—ñ –ü–ó:**
- –ë–µ–∑–ø–µ—á–Ω–µ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
- –†–∞–Ω–Ω—î –≤–∏—è–≤–ª–µ–Ω–Ω—è –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π
- –ó–º–µ–Ω—à–µ–Ω–Ω—è –≤–∏—Ç—Ä–∞—Ç –Ω–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ –±–µ–∑–ø–µ–∫–∏

### **–í –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ:**
- –ê–Ω–∞–ª—ñ–∑ –±–µ–∑–ø–µ–∫–∏ —ñ—Å–Ω—É—é—á–∏—Ö —Å–∏—Å—Ç–µ–º
- –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –º–æ–¥–µ—Ä–Ω—ñ–∑–∞—Ü—ñ—ó –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –±–µ–∑–ø–µ–∫–∏
- –í—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å —Ä–µ–≥—É–ª—è—Ç–æ—Ä–Ω–∏–º –≤–∏–º–æ–≥–∞–º

### **–í —Ö–º–∞—Ä–Ω–∏—Ö —Ä—ñ—à–µ–Ω–Ω—è—Ö:**
- –ë–µ–∑–ø–µ–∫–∞ –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å—ñ–≤
- –ó–∞—Ö–∏—Å—Ç API —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π
- –ú–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –∑–∞–≥—Ä–æ–∑ –¥–ª—è Azure/AWS/GCP

## üìà –ö–∞—Ä'—î—Ä–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

–ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∫—É—Ä—Å—É –≤–∏ –∑–º–æ–∂–µ—Ç–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –Ω–∞ –ø–æ–∑–∏—Ü—ñ—è—Ö:
- **Threat Modeling Specialist**
- **Security Architect**
- **Application Security Engineer**
- **Product Security Manager**
- **Cybersecurity Consultant**

## üéì –°–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ –≤–∏–∑–Ω–∞–Ω–Ω—è

- –ö—É—Ä—Å —î —á–∞—Å—Ç–∏–Ω–æ—é Microsoft Learn –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏
- –î–∞—î —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ñ –∑–Ω–∞–Ω–Ω—è –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ—ó —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∑ –±–µ–∑–ø–µ–∫–∏
- –í–∏–∑–Ω–∞—î—Ç—å—Å—è –≤ —ñ–Ω–¥—É—Å—Ç—Ä—ñ—ó —è–∫ —è–∫—ñ—Å–Ω–∞ –æ—Å–≤—ñ—Ç–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∞

## üí° –ß–æ–º—É –≤–∞—Ä—Ç–æ –ø—Ä–æ–π—Ç–∏ —Ü–µ–π –∫—É—Ä—Å?

### **–ê–∫—Ç—É–∞–ª—å–Ω—ñ—Å—Ç—å:**
- –ú–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –∑–∞–≥—Ä–æ–∑ —Å—Ç–∞—î –æ–±–æ–≤'—è–∑–∫–æ–≤–æ—é –ø—Ä–∞–∫—Ç–∏–∫–æ—é —É –≤–µ–ª–∏–∫–∏—Ö –∫–æ–º–ø–∞–Ω—ñ—è—Ö
- –†–µ–≥—É–ª—è—Ç–æ—Ä–Ω—ñ –≤–∏–º–æ–≥–∏ –≤—Å–µ —á–∞—Å—Ç—ñ—à–µ –≤–∏–º–∞–≥–∞—é—Ç—å —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É –±–µ–∑–ø–µ–∫–∏
- "Security by Design" - —Ü–µ —Ç—Ä–µ–Ω–¥ —Å—É—á–∞—Å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏

### **–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ—Å—Ç—å:**
- –ù–∞–≤–∏—á–∫–∏ –º–æ–∂–Ω–∞ –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –≤—ñ–¥—Ä–∞–∑—É –≤ –ø–æ—Ç–æ—á–Ω—ñ–π —Ä–æ–±–æ—Ç—ñ
- –ö—É—Ä—Å –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏—Ö –∫–µ–π—Å–∞—Ö —Ç–∞ –ø—Ä–∏–∫–ª–∞–¥–∞—Ö
- –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ç–∞ –º–µ—Ç–æ–¥–æ–ª–æ–≥—ñ—ó –∞–∫—Ç–∏–≤–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –≤ —ñ–Ω–¥—É—Å—Ç—Ä—ñ—ó

### **–ö–∞—Ä'—î—Ä–Ω–∏–π —Ä–æ–∑–≤–∏—Ç–æ–∫:**
- –í–∏—Å–æ–∫–∏–π –ø–æ–ø–∏—Ç –Ω–∞ —Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç—ñ–≤ –∑ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –∑–∞–≥—Ä–æ–∑
- –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –≤ –ø—Ä–æ–≤—ñ–¥–Ω–∏—Ö IT-–∫–æ–º–ø–∞–Ω—ñ—è—Ö
- –ì–∞—Ä–Ω–∞ –±–∞–∑–∞ –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ–≥–æ —Ä–æ–∑–≤–∏—Ç–∫—É –≤ –∫—ñ–±–µ—Ä–±–µ–∑–ø–µ—Ü—ñ

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è

1. **–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞:** –ë–∞–∑–æ–≤—ñ –∑–Ω–∞–Ω–Ω—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –ü–ó —Ç–∞ –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ –±–µ–∑–ø–µ–∫–∏
2. **–ü—Ä–∞–∫—Ç–∏–∫–∞:** –û–±–æ–≤'—è–∑–∫–æ–≤–æ –≤–∏–∫–æ–Ω—É–π—Ç–µ –≤—Å—ñ –ø—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è
3. **–ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è:** –°–ø—Ä–æ–±—É–π—Ç–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –∑–Ω–∞–Ω–Ω—è –¥–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É
4. **–°–ø—ñ–ª—å–Ω–æ—Ç–∞:** –ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏—Ö –≥—Ä—É–ø –∑ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –∑–∞–≥—Ä–æ–∑

–¶–µ–π –∫—É—Ä—Å –¥–∞—Å—Ç—å –≤–∞–º –º—ñ—Ü–Ω—É –æ—Å–Ω–æ–≤—É –¥–ª—è —Ä–æ–±–æ—Ç–∏ –≤ —Å—Ñ–µ—Ä—ñ –±–µ–∑–ø–µ–∫–∏ —Ç–∞ –¥–æ–ø–æ–º–æ–∂–µ —Ä–æ–∑–≤–∏–Ω—É—Ç–∏ —Å–∏—Å—Ç–µ–º–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è —â–æ–¥–æ –∑–∞—Ö–∏—Å—Ç—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–∏—Ö —Å–∏—Å—Ç–µ–º.



--------------------------------------------------------------------------------------------


# Threat Modeling Security Fundamentals

https://learn.microsoft.com/en-us/training/paths/tm-threat-modeling-fundamentals/


This learning path takes you through the four main phases of threat modeling, explains the differences between each data-flow diagram element, walks you through the threat modeling framework, recommends different tools and gives you a step-by-step guide on creating proper data-flow diagrams.

#### Prerequisites
- None

# 1. Introduction to threat modeling

Threat modeling is an effective way to help secure your systems, applications, networks, and services. It's an engineering technique that identifies potential threats and offers recommendations to help reduce risk and meet security objectives earlier in the development lifecycle.

# Learning objectives
In this module, you will:
- Understand the importance of capturing requirements and assumptions when creating a data-flow diagram.
- Read about the framework that helps you find security issues in a system.
- Learn about the security control categories that help you reduce or eliminate potential threats.
- Highlight the importance of verifying assumptions, requirements, and fixes before deployment.


# 1.1 Introduction

Threat modeling is an effective technique to help secure your systems, applications, networks, and services. It helps you identify potential threats and risk reduction strategies earlier in the development lifecycle.

Threat modeling uses a data-flow diagram that graphically shows how the system works. It then applies a framework to help you find and fix security issues.

Systems released without first being threat modeled place your customers and organization at risk.

> **Note**  
> To make things easier, this learning path refer to systems, applications, and services as just *systems*.

## When to use threat modeling

Use threat modeling whenever you design new systems or update existing ones. Examples include:

* Creating a new Azure micro-service that reports on your organization's cloud resource usage for budgeting purposes.
* Designing a public API to provide customers access to your data.
* Adding a new feature to an existing application.

## Who can threat model

Anyone with a working knowledge of the system and a basic understanding of security can work with threat modeling. This technique can be applied across any:

* Software delivery approach, for example, Agile or Waterfall.
* Deployment cadence, such as hourly, monthly, or annually.

## Learning objectives

In this module, you explore the four high-level steps of threat modeling so that you can:

* Understand the importance of capturing requirements and assumptions when creating a data-flow diagram.
* Read about the framework that helps you find security issues in a system.
* Learn about the security-control categories that help you reduce or eliminate potential threats.
* Highlight the importance of verifying assumptions, requirements, and fixes before deployment.

## Prerequisites
* None




# 1.2 Threat Modeling Phases

Threat modeling is a technique used by anyone who knows how their system works and has a working knowledge of information security.

The technique is broken down into four different phases. Each phase contains important steps to help you create a data-flow diagram and analyze it for potential threats.


![](https://learn.microsoft.com/en-us/training/modules/tm-introduction-to-threat-modeling/media/threat-modeling-steps.png)

| Phase | Title | Description |
|-------|--------|-------------|
| 1 | Design | Capture all requirements for your system and create a data-flow diagram. |
| 2 | Break | Apply a threat-modeling framework to the data-flow diagram and find potential security issues. |
| 3 | Fix | Decide how to approach each issue with the right combination of security controls. |
| 4 | Verify | Verify requirements are met, issues are found, and security controls are implemented. |

This module discusses each phase in the next units.

> **Important**
> 
> The units in this module introduce important threat-modeling concepts at a high level. The Threat Modeling Fundamentals learning path discusses the concepts in detail.




# 1.3 Step 1 - Design


The design phase is the starting ground for your threat modeling activities. Gather as much data as possible about what you're building and what you're using to build it.

## Goals

- Develop a clear picture of how your system works
- List every service consumed by your system
- Enumerate all the assumptions about the environment and default security configurations
- Create a data-flow diagram that uses the right context depth level

> **Important**
> 
> If you don't complete this phase, you might overlook important security-design considerations for your system, which can put your customers at risk.

## Ask questions about your system

Ask as many questions as possible about your system. Here are a few questions to consider:

| Area | Questions |
|------|-----------|
| **System description** | What does the system do? What are the business processes handled by the service? Are they clearly defined? |
| **System environment** | Will the system be built on the cloud or on-premises? On which operating system is it built? Does it use containers? Is the system an application, service, or something entirely different? |
| **Scenarios** | How will the system be used? How will it not be used? |
| **Permissions** | Does the system have script-execution, data, or hardware-access requirements? If so, what are they? |
| **Cloud provider** | Which cloud provider does the system use? What default security configuration options does the provider offer? How do these options affect the system security requirements? |
| **Operating system** | Which Operating System will the system use? What default security configuration options does the operating system offer? How do these options affect the system security requirements? |
| **First- and third-party** | Which first- and third-party services will the system use? What default security configuration options do they offer? How do these options affect the system security requirements? |
| **Accounts** | What are the account types that the system uses, like users and administrators? Are these accounts be local or cloud-enabled? What access do they need and why? |
| **Identity & access control** | How does the system help secure those accounts? Does it rely on Microsoft Entra ID? Does it use features like Access Control Lists (ACL), multifactor authentication (MFA), and Session control? |
| **Tokens & sessions** | Will the system process requests like SOAP or REST APIs? How does it handle different sessions? |
| **Bypass** | Will the system use or require back doors? If so, how does that bypass work? |
| **Logging, monitoring and backing up** | What are the mechanisms the system uses to log security events, monitor for anomalies, and back up system data? Which event types does capture? |
| **Network** | What are all the intrusion, detection, and protection systems that will be used? How is communication encrypted? |
| **Data** | What type of data will the system create or handle? What will the data classification type be? How does the system trust data sources? How does it parse data? What are the expected input and output behaviors? How is validation handled? How is data encrypted across all states? |
| **Secrets management** | How does the system handle keys, certificates, and credentials? |

> **Important**
> 
> This list is extensive, but not exhaustive. Speak with your colleagues and security team to capture all relevant context for the system.

> **Note**
> 
> If you have a dedicated security team, schedule a whiteboarding session with them to go over the initial design. This contact can save you a considerable amount of time.

## Create a data-flow diagram

Use the answers to create a data-flow diagram. Your diagram shows data across each stage in the data lifecycle, and includes changes in trust zones. Examples include:

- Human users sign into your web application hosted in Azure to access data
- Administrators change default security configurations for elastic resources used by the web application
- Automated daily scripts monitor activity logs for the web application and notify administrators of any anomalies

Microsoft engineering teams submit data-flow diagrams as part of their security-compliance requirements. These diagrams make it easier to conduct security conversations.

### Diagraming tools

Microsoft engineers recommend using one of two tools available today:

- Threat Modeling Tool
- Visio

### Diagram elements

A data-flow diagram shows the flow of data in a given system. It usually starts with requests from users or data stores and ends with data stores or Analytics Services. The data-flow diagram uses distinct shapes to indicate the elements they represent.

| Element | Shape | Definition |
|---------|--------|------------|
| **Process** | ![Process shape: circle](https://learn.microsoft.com/en-us/training/modules/tm-introduction-to-threat-modeling/media/process50.png) | Task that receives, modifies, or redirects input to output, like a web service. |
| **Data store** | ![Data store shape: two parallel horizontal lines](https://learn.microsoft.com/en-us/training/modules/tm-introduction-to-threat-modeling/media/data-store50.png) | Permanent and temporary data storage, like a web cache and Azure-managed databases. |
| **External entity** | ![External entity shape: square](https://learn.microsoft.com/en-us/training/modules/tm-introduction-to-threat-modeling/media/external-entity50.png) | Task, entity, or data store outside of your direct control, like users and third-party APIs. |
| **Data-flow** | ![Data-flow shape: two parallel diagonal arrows](https://learn.microsoft.com/en-us/training/modules/tm-introduction-to-threat-modeling/media/data-flow50.png) | Data movement between processes, data stores, and external entities, like connection strings and payloads. |
| **Trust boundary** | ![Trust boundary: dashed square/line](https://learn.microsoft.com/en-us/training/modules/tm-introduction-to-threat-modeling/media/trust-boundary-box50.png) | Trust-zone changes as data flows through the system, like users using the internet to access a secured corporate network. |

Data-flow diagram elements also need context to help anyone understand how they're used and secured in the system.

### Information to include in the data-flow diagram

The amount of information to include in the data-flow diagram depends on a few key factors:

| Factor | Explanation |
|--------|-------------|
| **Type of system you're building** | Systems that don't handle sensitive data or are used only internally might not need as much context as an externally facing system |
| **Required context from your security team** | Security teams are precise with what they look for in threat models. Speak with your security team to confirm the required depth layer |

Failure to include the right context leads to incomplete security reviews and potentially vulnerable systems.

### Diagram layers

To help you understand how much information to include, choose between these four context depth layers:

| Depth layer | Title | Description |
|-------------|-------|-------------|
| **0** | **System** | Starting point for any system. Data-flow diagram contains major system parts with enough context to help you understand how they work and interact with each other. |
| **1** | **Process** | Focus on data-flow diagrams for each part of the system by using other data-flow diagrams. Use this layer for every system, especially if it handles sensitive data. The context at this layer helps you identify threats and ways to reduce or eliminate risks more efficiently. |
| **2** | **Subprocess** | Focus on data-flow diagrams for each subpart of a system part. Used for systems considered critical. Examples include systems for secured environments, systems that handle highly sensitive data, or systems that contain a high risk rating. |
| **3** | **Lower-Level** | Focus on highly critical and kernel-level systems. Data-flow diagrams describe each subprocess in minute detail. |

> **Note**
> 
> Most data-flow diagrams should contain both Layers 0 and 1 depth layers. Speak with your security team to confirm the required layer depth.

---

## Check your knowledge

**1. What happens at the Design Phase?**

**Correct Answer:** You know how the system works or will work. You can also identify security requirements, guarantees, or gaps inherited from cloud providers and integrated services.

**Explanation:** The Design Phase is about gathering comprehensive information about your system - understanding how it works, what services it uses, what assumptions you're making about the environment, and creating a detailed data-flow diagram. This includes identifying security requirements, guarantees, and gaps that come from cloud providers and integrated services. The other options are incorrect because:

- Option 2 is wrong - you DO need to research security guarantees, assumptions, and gaps during the Design phase
- Option 3 is wrong - identifying and resolving security issues happens in later phases (Break and Fix), not during Design



# 1.4 Step 2 - Break


The break phase is where you use the data-flow diagram to find potential threats against your system. The process uses a threat-modeling framework to help you find the most common threats and ways to protect against them.

## Goals

- Choose between *protecting the system* and *understanding the attacker* focused approaches
- Use the STRIDE framework to identify common threats

> **Important**
> 
> If you don't complete this phase, you won't find potential threats in your system, which can lead to future breaches.

## Focus your approach

Start by choosing whether you want to find ways to protect your system, or you want to understand all you can about an attacker and their motives. Examples include:

| Focus | Example of what you can find |
|-------|------------------------------|
| **System** | You find an issue with an unencrypted connection between the user and the system. |
| **Attacker** | You find out more about means, motivation, and ways to harden the system entry points. |
| **Asset** | You identify critical assets based on things like classified data handling, and focus mostly on protecting those assets. |

> **Note**
> 
> Microsoft product engineers mostly focus on protecting the system. Penetration testing teams focus on both.

## Select a threat framework

Next, select a framework to help generate potential threats in your system. Microsoft traditionally uses STRIDE, an acronym for the six main threat categories to provide an extensive‚Äîbut not exhaustive‚Äîlist of threats.

The framework helps you ask a few important questions about your system:

| Threat | Definition | Question | Threat example |
|--------|------------|----------|----------------|
| **Spoofing** | Attacker pretends to be someone or something else | Are both sides of the communication authenticated? | Sending an email to users from an account that seems legitimate with malicious links and attachments to capture their credentials, data, and device access |
| **Tampering** | Attacker changes data without authorization | How do I know someone can't change data in transit, in use, or at rest? | Modifying memory through weak API call handling to cause crashes and disclosure of sensitive error messages |
| **Repudiation** | Attacker claims to not have done something | Can every action be tied to an identity? | Claiming to not have deleted database records |
| **Information Disclosure** | Attacker sees data they aren't supposed to see | How do I know someone can't see data in transit, in use, or at rest? | Accessing unauthorized documents and folders with weak security controls |
| **Denial of Service** | Attacker brings your system down | Are there areas in the system where resource is limited? | Flooding the network with requests |
| **Elevation of Privilege** | Attacker has unauthorized access to data | How do I know someone is allowed to take this action? | Extracting data by exploiting weaknesses in input-handling logic or memory |

---

## Check your knowledge

**1. What happens at the Break Phase?**

**Correct Answer:** You select a focus area with an associated framework to systematically identify potential threats in your system.

**Explanation:** The Break Phase is specifically about identifying potential threats in your system using a systematic approach. You choose a focus area (system, attacker, or asset-focused) and then apply a threat modeling framework like STRIDE to systematically find potential threats. The other options are incorrect because:

- Option 2 is wrong - the Break phase is about identifying threats, not solutions (solutions come in the Fix phase)
- Option 3 is wrong - while meeting with the security team can be helpful, it's not a requirement of the Break phase itself




# 1.5 Step 3 - Fix

The fix phase is where the fate of all threats is decided. Each STRIDE threat maps to one or more security controls, which offer different functions and types to choose from.

## Goals
- Measure each threat against a prioritization framework or security bug bar
- Track each threat as a task or work item in a bug-management service
- Generate security control recommendations that are mapped to STRIDE threats
- Address each threat by selecting one or more security control types and functions
- Resolve tasks

> **Important**
> 
> If you don't complete this phase, you won't find the security controls to help reduce risk or track each threat properly.

## Set up a threat tracking workflow
Set up a threat tracking workflow that prioritizes threats and creates tasks to address them.

### Prioritize threats
Start by measuring each threat against a prioritization framework or security bug bar. This process helps you arrange resources to fix issues deemed most important to your organization.

The process uses three key variables:

| Variable | Description |
|----------|-------------|
| Impact | Uses STRIDE categories to assign impact |
| Severity | Uses internal bug bar or prioritization framework to assign severity using worst-case scenarios |
| Risk | Uses a calculation of security control effectiveness and implementation cost |

> **Tip**
> 
> Microsoft engineers use an internal security bug bar that assigns threats with a Critical, Important, Moderate, Low, or Information severity rating. Check with your security team to confirm how to prioritize your issues.

### Create tasks
Next, add each threat in a bug-management solution like Azure DevOps Services. Some of the benefits include:

- Reinforces issue ownership
- Effectively tracks history
- Gives you the ability to use standardized templates for priority and resolution exercises

## Rate security control effectiveness and cost
Visit each security control recommendation mapped to STRIDE threats. Write down the ones that are most effective and least expensive to implement. Here are a few examples:

| Threat | Security Control | Security Control Example |
|--------|------------------|--------------------------|
| Spoofing | Authentication | Ensure message integrity and authenticate origin by sending and receiving messages signed with digital signatures |
| Tampering | Integrity | Validate input to prevent the processing of malicious payloads and mishandling of unexpected behavior |
| Repudiation | Nonrepudiation | Create and protect security logs that contain user actions and timestamps |
| Information disclosure | Confidentiality | Apply access control lists to ensure the right users can access the right data |
| Denial of service | Availability | Use elastic resources to manage the growing or shrinking usage |
| Elevation of privilege | Authorization | Run the service using the least possible amount of access |

> **Tip**
> 
> You might come across security controls that reduce or completely eliminate multiple threats at once. As an example, using SSL/TLS creates secure transmission channels to help prevent malicious data modification or disclosure.

## Security control types and functions
Security controls have different types and functions. When combined, they help secure your system and create multiple layers of security, also known as defense-in-depth.

You can choose one or more security control types:

- **Physical**, like cameras
- **Technical**, like encryption
- **Administrative**, like policies

These types have one or more security control functions:

| Function | Description |
|----------|-------------|
| Preventive | Reduces the probability or impact of a threat, like firewalls |
| Detective | Identifies attacks as they happen, like surveillance |
| Corrective | Controls how the system responds to an ongoing attack, like system patches |
| Recovery | Recovers system from an attack, like backups |
| Deterrent | Keeps attackers away from the system, like least privilege |

## Add security control details to each issue
Add the details to each issue in the bug management solution, then resolve each issue with one of the following resolutions. They vary slightly from organization to organization:

| Resolution | Description |
|------------|-------------|
| Reduce | Use bug fixes or redesign to reduce or eliminate threat impact and severity |
| Transfer | Assign issue to another system or team |
| Avoid | Cut the part of the system that contains the issue |
| Accept | Risk is accepted without a resolution. This resolution requires approval of an authorized risk decision maker. The decision might be based on threat severity. Critical severity threats might require approval from senior leadership, while a defense-in-depth risk might require approval by a senior engineer. Speak with your team for strategic guidance |

---

## Check your knowledge

**Question:** What happens at the Fix Phase?

**–í–∞—Ä—ñ–∞–Ω—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π:**
1. It's when all fixes are verified before the system is deployed.
2. It's when you generate, validate, and prioritize a list of security controls to reduce or eliminate risk.
3. It's when a framework is selected to help generate potential threats.

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å:** **–í–∞—Ä—ñ–∞–Ω—Ç 2** - It's when you generate, validate, and prioritize a list of security controls to reduce or eliminate risk.

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:** –ù–∞ –µ—Ç–∞–ø—ñ Fix –æ—Å–Ω–æ–≤–Ω–∞ –º–µ—Ç–∞ - —Ü–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, –≤–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ –ø—Ä—ñ–æ—Ä–∏—Ç–∏–∑–∞—Ü—ñ—è —Å–ø–∏—Å–∫—É –∑–∞—Å–æ–±—ñ–≤ –±–µ–∑–ø–µ–∫–∏ (security controls) –¥–ª—è –∑–º–µ–Ω—à–µ–Ω–Ω—è –∞–±–æ —É—Å—É–Ω–µ–Ω–Ω—è —Ä–∏–∑–∏–∫—ñ–≤. –¶–µ –≤–∫–ª—é—á–∞—î –æ—Ü—ñ–Ω–∫—É –∑–∞–≥—Ä–æ–∑, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å –¥–ª—è —ó—Ö –≤–∏—Ä—ñ—à–µ–Ω–Ω—è, –≤–∏–±—ñ—Ä –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö —Ç–∏–ø—ñ–≤ —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ–π –∑–∞—Å–æ–±—ñ–≤ –±–µ–∑–ø–µ–∫–∏, –∞ —Ç–∞–∫–æ–∂ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –∫–æ–∂–Ω–æ—ó –∑–∞–≥—Ä–æ–∑–∏ —á–µ—Ä–µ–∑ –æ–¥–∏–Ω —ñ–∑ –∑–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ (–∑–º–µ–Ω—à–µ–Ω–Ω—è, –ø–µ—Ä–µ–¥–∞—á–∞, —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –∞–±–æ –ø—Ä–∏–π–Ω—è—Ç—Ç—è —Ä–∏–∑–∏–∫—É).



# 1.6 Step 4 - Verify

The verify phase is the last step of the threat-modeling process, which often happens before the system is deployed. It involves ensuring requirements are met, assumptions are validated, and security controls are in place.

## Goals
- Confirm that the system satisfies all previous and new security requirements
- Configure cloud provider, operating system, and components to meet security requirements
- Ensure that all issues are addressed with the right security controls
- Take the system through manual and automated verification before deployment

> **Important**
> 
> If you don't complete this phase, you won't be able to verify the security work was successfully completed.

## Verify requirements and set defaults

Start by verifying that all requirements created in the first phase are met.

**Examples:**
- Network security plans
- Secrets-management solution implementation
- Logging and monitoring systems
- Identity and access controls

Then make sure to change all the default configuration settings from the cloud provider, operating system, and components so you can meet all security requirements.

**Examples:**
- Enable Azure SQL Database transparent data encryption to protect data on disk
- Use role-based access control to assign permissions to users, groups, and applications
- Enable Windows Firewall across all profiles

You should resolve all issues logged in the bug-management solution. Verify all fixes.

## Run verification

The last part involves running both manual and automated verification. At Microsoft, systems are subject to a verification process before deployment. The process might include automated scanners, code reviews, and penetration tests. The process can be enforced before each deployment or across time intervals, like every **6-12 months**.

If you answer **yes** to any of the following questions, you might want to have shorter verification cadences:

- Is my system used externally?
- Does my system handle confidential data?
- Do I have to comply with regulations?
- Does my organization require extra security processes such as privacy implications, operational risk, or development requirements?

---

## Check your knowledge

**Question:** What happens at the Verify Phase?

**–í–∞—Ä—ñ–∞–Ω—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π:**
1. You implement the list of applicable security controls that reduces or eliminates risk.
2. Code is reviewed manually before being pushed to the staging branch for deployment.
3. System is verified manually or automatically against previously generated threats to verify security controls reduced or eliminated risk.

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å:** **–í–∞—Ä—ñ–∞–Ω—Ç 3** - System is verified manually or automatically against previously generated threats to verify security controls reduced or eliminated risk.

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:** –ù–∞ –µ—Ç–∞–ø—ñ Verify –æ—Å–Ω–æ–≤–Ω–∞ –º–µ—Ç–∞ - —Ü–µ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º–∏ (—è–∫ —Ä—É—á–Ω–∞, —Ç–∞–∫ —ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞) –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —Ä–∞–Ω—ñ—à–µ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏—Ö –∑–∞–≥—Ä–æ–∑, —â–æ–± –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω—ñ –∑–∞—Å–æ–±–∏ –±–µ–∑–ø–µ–∫–∏ –¥—ñ–π—Å–Ω–æ –∑–º–µ–Ω—à–∏–ª–∏ –∞–±–æ —É—Å—É–Ω—É–ª–∏ —Ä–∏–∑–∏–∫–∏. –¶–µ –∑–∞–∫–ª—é—á–Ω–∏–π –µ—Ç–∞–ø –ø—Ä–æ—Ü–µ—Å—É –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –∑–∞–≥—Ä–æ–∑, —è–∫–∏–π –≤–∫–ª—é—á–∞—î:

- –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤—Å—ñ—Ö –≤–∏–º–æ–≥ –±–µ–∑–ø–µ–∫–∏
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –∑–≥—ñ–¥–Ω–æ –∑ –≤–∏–º–æ–≥–∞–º–∏
- –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—ñ–≤ –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó (—Å–∫–∞–Ω–µ—Ä–∏, code review, penetration testing)
- –ü–µ—Ä–µ–≤—ñ—Ä–∫—É –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–∏—Ö security controls

–ï—Ç–∞–ø Verify –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ –µ—Ç–∞–ø—É Fix —Ç–∏–º, —â–æ —Ç—É—Ç –º–∏ –Ω–µ –≤–ø—Ä–æ–≤–∞–¥–∂—É—î–º–æ –Ω–æ–≤—ñ –∑–∞—Å–æ–±–∏ –∑–∞—Ö–∏—Å—Ç—É, –∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —É–∂–µ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–∏—Ö.


# 1.7 Summary

Threat modeling is an effective way to help secure your systems, applications, networks, and services. It identifies potential threats and recommends risk-reduction strategies to help you meet security goals early in the development lifecycle.

In this module, you:
- Understood the importance of capturing requirements and assumptions to help create a data-flow diagram
- Read about the framework that helps you find security issues in a system
- Learned about the security control categories that help you reduce or eliminate potential threats
- Highlighted the importance of verifying assumptions, requirements, and fixes before deployment

## What's next

In the next few modules of this learning path, you learn about each concept introduced in the four phases in detail:

| Module | Title | Description |
|--------|-------|-------------|
| 2 | Create a threat model using data-flow diagram elements | Learn about each element in a data-flow diagram, including when to use them and what context to include |
| 3 | Provide context with the right depth layer | Learn the differences between each context-depth layer and when to use them before you create a data-flow diagram |
| 4 | Approach your data-flow diagram with the right threat model focus | Learn about the different ways to focus your threat-modeling activities |
| 5 | Use a framework to identify threats and find ways to reduce or eliminate risk | Deep-dive into STRIDE and learn more about what's at risk and how to protect your system |
| 6 | Prioritize your issues and apply security controls | Learn to prioritize threats and understand the different types and functions of security controls for your system |
| 7 | Use recommended tools to create a data-flow diagram | Check out some of the tools you can use for threat modeling |

## Learn more
- [Microsoft Security Development Lifecycle](https://www.microsoft.com/en-us/securityengineering/sdl/)




# 2 Create a threat model using data-flow diagram elements

Data-flow diagrams are graphical representations of your system and should specify each element, their interactions, and helpful context.

# 2.1 Introduction

Data-flow diagrams are made up of elements represented as shapes and lines. They graphically represent every major part of your system.

Examples include:
* An Azure DB used to store customer data.
* A web service that handles a user request.
* A user interacting with your system.
* Data flow crossing a trust-zone level change.

We use elements and their interactions in threat modeling to help identify threats and reduce system risk. The process helps engineers collaborate more efficiently while securing their systems against the most common threats.

In this module, you explore each element of a data-flow diagram. These elements have distinct shapes and functions and require specific context.

> **Note**
> 
> We might also refer to elements as *Stencils* throughout this learning path.

## When to use elements

Use elements whenever you create a data-flow diagram. The diagram shows how data is created, manipulated, stored, and removed from your system. Let's build on the examples from the first module:

* **Azure micro-service**: Add elements to specify users, authentication processes, data storage, data-request processes, and response-handling processes.
  * Don't forget to specify trust-zone level changes.
* **Public API**: Add elements to specify users, data storage, logging and monitoring processes, and other parts of the system.
* **New feature on existing application**: Add elements to represent existing and new parts of the system.

## Learning objectives

In this module, you learn how to:
* Distinguish between the shape and function of each element.
* Include the right context for an element when creating a data-flow diagram.

## Prerequisites

* None


# 2.2 Data-flow diagram elements

Data-flow diagrams are made up of shapes that create graphical representations of your system. Each shape represents a unique function. Each interaction is analyzed to help you identify potential threats and ways to reduce risk.

Using shapes correctly helps you receive better input from colleagues and security teams. They allow everyone to understand how the system works. It can also help everyone avoid going through countless design documents and development plans to get them up and running.

> **Note**
> 
> If you fail to properly account for all the parts of a system in the data-flow diagram, you'll risk deploying the system with potential vulnerabilities.

| Element | Shape | Definition | Example |
|---------|-------|------------|---------|
| Process | ![](https://learn.microsoft.com/en-us/training/modules/tm-create-a-threat-model-using-foundational-data-flow-diagram-elements/media/process50.png) | Task that receives, modifies, or redirects input to output | Web service |
| Data store | ![](https://learn.microsoft.com/en-us/training/modules/tm-create-a-threat-model-using-foundational-data-flow-diagram-elements/media/data-store50.png) | Permanent and temporary data storage | Web cache and Azure DB |
| External entity |![](https://learn.microsoft.com/en-us/training/modules/tm-create-a-threat-model-using-foundational-data-flow-diagram-elements/media/external-entity50.png) | Task, entity, or data store outside of your direct control | Users and third-party APIs |
| Data-flow | ![](https://learn.microsoft.com/en-us/training/modules/tm-create-a-threat-model-using-foundational-data-flow-diagram-elements/media/data-flow50.png) | Data movement between processes, data stores, and external entities | Connection strings and payloads |
| Trust boundary | ![](https://learn.microsoft.com/en-us/training/modules/tm-create-a-threat-model-using-foundational-data-flow-diagram-elements/media/trust-boundary-box50.png) | Trust zone changes as data flows through the system | Users connecting to a secured corporate network over the internet |

In the next few units, we discuss each of the elements.


# 2.3 Process - The task element

![](https://learn.microsoft.com/en-us/training/modules/tm-create-a-threat-model-using-foundational-data-flow-diagram-elements/media/process.png)

The **process element** is depicted as a circle. It represents activities that can modify or redirect received input to their proper outputs.

Examples include:
* A microservice that receives an API call request and forwards it to an API handling service.
* Code that validates data input before it writes to a data store.

## When to use the process element

Add a process element between:
* **Data stores**: Processes handle all communication between data stores.
* **External entities with other elements**: Processes handle all tasks and communication.
* **Processes**: Processes handle all tasks.

Depending on the information-depth level required for a data-flow diagram, you may use the process element to represent a few distinct use cases:

| Use case | Description |
|----------|-------------|
| Stubs | Using the process element as a "stub" on a higher-level data-flow diagram is a good way to help keep things clean. It involves creating a separate data-flow diagram for a specific process and mapping it back to the higher-level diagram. It works like a "zoom-in" feature, where the in-depth data-flow diagram is available when you "zoom-in" on that process. |
| Multiple tasks | This use case applies when a process handles more than one task. This context is important because it allows anyone looking at the data-flow diagram to apply the proper security controls for each task. |

## Include context

Include the following context with each process element:

| Context | Questions |
|---------|-----------|
| Code | Is this process running in C#, C++, Objective C, Java, or a scripting language? |
| Permission level | Does this process need kernel, local, or administration-level permissions to run? |
| Service isolation | Is the process running in a sandbox? |
| Input | Can this process accept input from everyone, local accounts, or just administrators? |
| Validation | How does the process parse, handle, and accept input? |
| Authentication | Does the process rely on Microsoft Entra ID for authentication? If not, on what does it rely? |
| Authorization | Does it rely on Access Control Lists (ACL) for authorization? If not, on what does it rely? |

## Check your knowledge

**1.**
**Which one of these actions best describes a process?**

A. A web portal asks a user for their credentials.  
B. A cache stores service-related cookies for a user.  
C. A third-party API sends requested data to its requestor.

**–í—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è:**

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å: A. A web portal asks a user for their credentials.**

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**

- **A. A web portal asks a user for their credentials** - —Ü–µ **–ø—Ä–æ—Ü–µ—Å**, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–µ–±-–ø–æ—Ä—Ç–∞–ª –∞–∫—Ç–∏–≤–Ω–æ –æ–±—Ä–æ–±–ª—è—î –¥—ñ—ó (–∑–∞–ø–∏—Ç—É—î –¥–∞–Ω—ñ, –≤–∞–ª—ñ–¥—É—î —ó—Ö, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—î). –¶–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—é –ø—Ä–æ—Ü–µ—Å—É —è–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ, —â–æ –º–æ–¥–∏—Ñ—ñ–∫—É—î –∞–±–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—î –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ –Ω–∞ –≤–∏—Ö—ñ–¥–Ω—ñ.

- **B. A cache stores service-related cookies** - —Ü–µ **—Å—Ö–æ–≤–∏—â–µ –¥–∞–Ω–∏—Ö** (data store), –æ—Å–∫—ñ–ª—å–∫–∏ –∫–µ—à –ø–∞—Å–∏–≤–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é.

- **C. A third-party API sends requested data** - —Ü–µ **–∑–æ–≤–Ω—ñ—à–Ω—è —Å—É—Ç–Ω—ñ—Å—Ç—å** (external entity), –æ—Å–∫—ñ–ª—å–∫–∏ API —Ç—Ä–µ—Ç—å–æ—ó —Å—Ç–æ—Ä–æ–Ω–∏ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –ø–æ–∑–∞ –≤–∞—à–∏–º –ø—Ä—è–º–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º.

**–ö–ª—é—á –¥–æ —Ä–æ–∑—É–º—ñ–Ω–Ω—è:** –ü—Ä–æ—Ü–µ—Å –∑–∞–≤–∂–¥–∏ –≤–∏–∫–æ–Ω—É—î –∞–∫—Ç–∏–≤–Ω—ñ –¥—ñ—ó - –æ–±—Ä–æ–±–ª—è—î, –≤–∞–ª—ñ–¥—É—î, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º—É—î, –∞–±–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—î –¥–∞–Ω—ñ –º—ñ–∂ —ñ–Ω—à–∏–º–∏ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏ —Å–∏—Å—Ç–µ–º–∏.



# 2.4 Data store - The storage element

![](https://learn.microsoft.com/en-us/training/modules/tm-create-a-threat-model-using-foundational-data-flow-diagram-elements/media/data-store.png)

The **data store element** is depicted as parallel lines. This element represents data stored on a temporary or permanent basis.

Examples include:
* Using the browser cache to store user session-related data.
* Adding a security log event to a database.

## When to use the data store element

* Whenever you're storing data somewhere, like Azure DB or a local cache.
* If you're establishing communication between two data stores, don't forget to add a process between them.
* Data stores and external entities start the data flow, so verify you have either one in place.
* Make sure to include any post-processing of data, such as analytics services like Azure Analytics. This process is often missed.

## Include context

Include the following context with each data store element:

| Context | Questions |
|---------|-----------|
| Type | Does the system use Azure SQL, cookies, local, or some other type of storage? If so, what is it? |
| Function | How is the storage used? Is it used to share data, store backups, security logs, credentials, or secrets? |
| Permission level | How is access control implemented? Who has read and write permissions? |
| Additional controls | Is data encrypted? What about the disk? Are digital signatures used? |

## Check your knowledge

**1.**
**Which one of these actions best describes a data store?**

A. A web portal asks a user for their credentials.  
B. A cache stores service-related cookies for a user.  
C. A third-party API sends requested data to its requestor.


**–í—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è:**

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å: B. A cache stores service-related cookies for a user.**

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**

- **A. A web portal asks a user for their credentials** - —Ü–µ **–ø—Ä–æ—Ü–µ—Å** (process), –æ—Å–∫—ñ–ª—å–∫–∏ –≤–µ–±-–ø–æ—Ä—Ç–∞–ª –∞–∫—Ç–∏–≤–Ω–æ –≤–∏–∫–æ–Ω—É—î –¥—ñ—é –∑–∞–ø–∏—Ç—É —Ç–∞ –æ–±—Ä–æ–±–∫–∏ –¥–∞–Ω–∏—Ö.

- **B. A cache stores service-related cookies for a user** - —Ü–µ **—Å—Ö–æ–≤–∏—â–µ –¥–∞–Ω–∏—Ö** (data store), –æ—Å–∫—ñ–ª—å–∫–∏ –∫–µ—à –ø–∞—Å–∏–≤–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—î –¥–∞–Ω—ñ (cookies) –Ω–∞ —Ç–∏–º—á–∞—Å–æ–≤—ñ–π –∞–±–æ –ø–æ—Å—Ç—ñ–π–Ω—ñ–π –æ—Å–Ω–æ–≤—ñ. –¶–µ —Ç–æ—á–Ω–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—é data store —è–∫ –µ–ª–µ–º–µ–Ω—Ç–∞, —â–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –¥–∞–Ω—ñ.

- **C. A third-party API sends requested data to its requestor** - —Ü–µ **–∑–æ–≤–Ω—ñ—à–Ω—è —Å—É—Ç–Ω—ñ—Å—Ç—å** (external entity), –æ—Å–∫—ñ–ª—å–∫–∏ API —Ç—Ä–µ—Ç—å–æ—ó —Å—Ç–æ—Ä–æ–Ω–∏ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –ø–æ–∑–∞ –≤–∞—à–∏–º –ø—Ä—è–º–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º.

**–ö–ª—é—á –¥–æ —Ä–æ–∑—É–º—ñ–Ω–Ω—è:** Data store –∑–∞–≤–∂–¥–∏ –ø–∞—Å–∏–≤–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—î –¥–∞–Ω—ñ (—Ç–∏–º—á–∞—Å–æ–≤–æ –∞–±–æ –ø–æ—Å—Ç—ñ–π–Ω–æ), –Ω–µ –≤–∏–∫–æ–Ω—É—é—á–∏ –∞–∫—Ç–∏–≤–Ω–∏—Ö –¥—ñ–π –∑ —ó—Ö –æ–±—Ä–æ–±–∫–∏. –£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É –∫–µ—à —Å–∞–º–µ –∑–±–µ—Ä—ñ–≥–∞—î cookies –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.



# 2.5 External entity - The no control element

![](https://learn.microsoft.com/en-us/training/modules/tm-create-a-threat-model-using-foundational-data-flow-diagram-elements/media/external-entity.png)

The **external entity element** is depicted as a square. The external entity can be a process, data store, or even a full-fledged system outside of your direct control.

Examples include:
* A user interacting with your service.
* Tight integration with a third-party authentication service.
* Services created by other teams within your organization.

## When to use the external entity element

* When representing an entity that you can't directly modify.
* Data stores and external entities start the data flow, so verify you have either one in place.

## Include context

Include the following context with each external entity element:

| Context | Questions |
|---------|-----------|
| Source | Is the entity internal or external? |
| Type | Is the entity human, a service provider, or web service? |
| Authentication | Does the process rely on Microsoft Entra ID for authentication? If not, on what does it rely? |
| Authorization | Does it rely on Access Control Lists (ACL) for authorization? If not, on what does it rely? |

## Check your knowledge

**1.**
**Which one of these actions best describes an external entity?**

A. A web portal asks a user for their credentials.  
B. A cache stores service-related cookies for a user.  
C. A third-party API sends requested data to its requestor.

**–í—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è:**

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å: C. A third-party API sends requested data to its requestor.**

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**

- **A. A web portal asks a user for their credentials** - —Ü–µ **–ø—Ä–æ—Ü–µ—Å** (process), –æ—Å–∫—ñ–ª—å–∫–∏ –≤–µ–±-–ø–æ—Ä—Ç–∞–ª –∞–∫—Ç–∏–≤–Ω–æ –æ–±—Ä–æ–±–ª—è—î –¥–∞–Ω—ñ —Ç–∞ –≤–∏–∫–æ–Ω—É—î –¥—ñ—ó –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –≤–∞—à–æ—ó —Å–∏—Å—Ç–µ–º–∏.

- **B. A cache stores service-related cookies for a user** - —Ü–µ **—Å—Ö–æ–≤–∏—â–µ –¥–∞–Ω–∏—Ö** (data store), –æ—Å–∫—ñ–ª—å–∫–∏ –∫–µ—à –ø–∞—Å–∏–≤–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—î –¥–∞–Ω—ñ.

- **C. A third-party API sends requested data to its requestor** - —Ü–µ **–∑–æ–≤–Ω—ñ—à–Ω—è —Å—É—Ç–Ω—ñ—Å—Ç—å** (external entity), –æ—Å–∫—ñ–ª—å–∫–∏ API —Ç—Ä–µ—Ç—å–æ—ó —Å—Ç–æ—Ä–æ–Ω–∏ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –ø–æ–∑–∞ –≤–∞—à–∏–º –ø—Ä—è–º–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º. –í–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –º–æ–¥–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ –π–æ–≥–æ –∫–æ–¥, –ª–æ–≥—ñ–∫—É —Ä–æ–±–æ—Ç–∏, –∞–±–æ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –∫–µ—Ä—É–≤–∞—Ç–∏ –Ω–∏–º.

**–ö–ª—é—á –¥–æ —Ä–æ–∑—É–º—ñ–Ω–Ω—è:** External entity –∑–∞–≤–∂–¥–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î —Å—É—Ç–Ω—ñ—Å—Ç—å (–ª—é–¥–∏–Ω—É, —Å–µ—Ä–≤—ñ—Å, —Å–∏—Å—Ç–µ–º—É), —è–∫—É –≤–∏ **–Ω–µ –º–æ–∂–µ—Ç–µ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ –∞–±–æ –º–æ–¥–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏**. API —Ç—Ä–µ—Ç—å–æ—ó —Å—Ç–æ—Ä–æ–Ω–∏ —î –∫–ª–∞—Å–∏—á–Ω–∏–º –ø—Ä–∏–∫–ª–∞–¥–æ–º —Ç–∞–∫–æ—ó —Å—É—Ç–Ω–æ—Å—Ç—ñ - –≤–∏ –º–æ–∂–µ—Ç–µ –∑ –Ω–µ—é –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏, –∞–ª–µ –Ω–µ –º–æ–∂–µ—Ç–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —ó—ó –≤–Ω—É—Ç—Ä—ñ—à–Ω—é –ª–æ–≥—ñ–∫—É —Ä–æ–±–æ—Ç–∏.


# 2.6 Data-flow - The data in transit element

![](https://learn.microsoft.com/en-us/training/modules/tm-create-a-threat-model-using-foundational-data-flow-diagram-elements/media/data-flow.png)

The **data-flow element** is depicted as directional arrows. This element represents data movement between elements. The directional arrows indicate communication between the data source and destination.

Examples include:
* Credentials submitted by a user to access your service.
* A request from a process to add an entry to your data store.

## When to use the data-flow element

* Between each element interaction.
* To call out the data type being transmitted, and include how you're transmitting it.
* In most cases, include responses to each request.

## Include context

Include the following context with each data-flow element:

| Context | Questions |
|---------|-----------|
| Description | Is the data flow passing a session token, SQL string, or user credentials? If not, what's it passing? |
| Protocol | Does the flow use HTTPS or SOAP? If not, what does it use? |
| Flow sequence | Is the data flow enumerated to make it easier to follow the flow sequence? |
| Type | What type of data is in the data flow? Cookies? XML? SOAP payload? REST payload? JSON payload? |
| Additional controls | Does the data flow have forgery protection enabled? Other security flags enabled? |
| Authentication | Does the process rely on Microsoft Entra ID for authentication? If not, on what does it rely? |
| Authorization | Does it rely on Access Control Lists (ACL) for authorization? If not, on what does it rely? |

## Check your knowledge

**1.**
**Which one of these actions best describes a data-flow?**

User credentials being transmitted from a process to an authentication service provider.  
Session tokens being stored for later use.  
A third-party API handling service analyzing a request.




# 2.7 Trust boundary - The trust zone change element

Trust boundary box

![](https://learn.microsoft.com/en-us/training/modules/tm-create-a-threat-model-using-foundational-data-flow-diagram-elements/media/trust-boundary-box.png)

Trust boundary line

![](https://learn.microsoft.com/en-us/training/modules/tm-create-a-threat-model-using-foundational-data-flow-diagram-elements/media/trust-boundary-line.png)

The **trust boundary element** is represented by dotted lines or squares. Trust boundaries are used to describe data flow as it crosses different trust zone levels.

Examples include:
* Firewalls
* Connections to third-party services
* Parts of your system only available to administrators

Areas with changing trust zones are the most targeted by attackers and should be carefully designed.

Microsoft has predefined trust-zone requirements for engineers to use internally. It takes the guesswork out of which boundaries to apply. If you work at Microsoft, contact your security team to learn more.

## When to use the trust boundary element

Here are a few important points to remember about trust boundaries:
* Include trust boundaries to handle data flow as it crosses different trust zones.
* Trust boundary **lines** represent data flow as it crosses large environments, like the internet.
* Trust boundary **boxes** represent smaller environments, like sandbox environments and corporate networks.

## Include context

Include the following context with each trust boundary element:

| Context | Questions |
|---------|-----------|
| Description | Is it a corporate network boundary? Internet? Azure subscription? |

## Check your knowledge

**1.**
**Which one of these actions best describes data crossing a trust boundary?**

Data sent from the user to a web service hosted on Azure.  
Data sent from the web service to the data store on Azure under the same Azure subscription.  
Data sent from the data store to a process on Azure under the same tenant.


# 2.8 Summary

Data-flow diagrams are graphical representations of your system and should contain each applicable process, data-store, external entity, data-flow, and trust boundary.

In this module, you:
* Distinguished between the shape and function of each element.
* Learned about the right context for an element when creating a data-flow diagram.

## Get started with Azure

Choose the Azure account that's right for you. Pay as you go or try Azure free for up to 30 days. Sign up.



# 3 Provide context with the right depth layer

Threat models can get complex if all parties involved can't agree on a data-flow diagram depth layer that provides enough context to satisfy requirements


# 3.1 Introduction


Threat modeling gives engineers the ability to graphically describe their system to others. It creates a common ground and enables more focused security conversations.

## The importance of depth layers

Threat models can either get too complex or too high-level, depending on the system you're building and the required context.

Data-flow diagram depth layers help you understand how much context to include. In this module, you'll learn about data-flow diagram depth layers and when to use them.

> **Tip**
> 
> Talk to your colleagues and security team to select the right depth layer. You can also use this module as reference.

## Learning objectives

In this module, you'll:

* Learn the differences between the data-flow diagram depth layers.
* Learn when to use each layer.

## Prerequisites

* None



# 3.2 Data-flow diagram depth layers

Data-flow diagram depth layers can help you decide how much context to include for a successful threat-modeling exercise. There are many factors that can help you decide how much depth you should go into.

Every system should have a high-level overview of how it works. Most should have further data-flow diagrams focusing on parts of the system that need a closer look.

Examples include:

* A process parsing highly sensitive data.
* Third-party authentication systems.

At a high level, there are four depth layers used in threat modeling:

| Layer | Description |
|-------|-------------|
| 0 | This layer is required for all systems, and contains major system parts. |
| 1 | This layer is required for most systems, and contains diagrams for each system part. |
| 2 | This layer is required for highly sensitive systems, and contains diagrams for system subparts. |
| 3 | This layer is required for critical or kernel level systems, and contains diagrams for every process. |

![](https://learn.microsoft.com/en-us/training/modules/tm-provide-context-with-the-right-depth-layer/media/depthlayers.png)

We review each depth layer in the next few units.


# 3.3 Layer 0 - The system layer

# **Layer 0 - The system layer**

**200 XP**
* 5 minutes

The system layer of data-flow diagrams is the starting point for any system. You need to create it for all your systems.

**Goal**: Represent **major system parts** with enough context to help you understand how they work and interact with each other.

Data-flow diagrams in the system layer should fit in a single page. They should also contain only major processes handled by the system. Provide as much as context as possible and clearly label each element so anyone can understand how it works.

## **Tip**
The **system layer** is also called the **context layer**.

## **When to use the system layer**
The system layer should be required for every system you create. The high-level context can help anyone learn more about your system so they can engage in more meaningful discussions.

## **Deep diving into a system part**
In most cases, system parts **will** require a deeper dive because of the risk they introduce.

Examples include:
* **Any** new system that introduces unknown risks to the environment.
* New parsers, protocols, and file formats.
* New authentication and authorization mechanisms.
* New secret storage or encryption algorithms.
* Integration with third-party authentication systems like Facebook.
* Required elevated privileges for main functionality.
* Required unencrypted communication channels.

If that's the case, create data-flow diagrams for each system part. Follow these steps:

| Step | Guidance |
|------|----------|
| 1 | Create a process element with a clear description label, such as *Web Service Name*. |
| 2 | Create a new file and name it exactly the same way as the description label. |
| 3 | Focus the data-flow diagram only on the system part you're "zooming into". |

The result is a series of data-flow diagrams in the **process layer**, known as layer 1.

---

## **Check your knowledge**

**1.**

**Layer 0 is commonly referred to as the:**

- [ ] Context Layer
- [ ] Process Layer  
- [ ] Subprocess Layer

–í—ñ–¥–ø–æ–≤—ñ–¥—å:
‚úÖ Context Layer
–ü–æ—è—Å–Ω–µ–Ω–Ω—è: –£ —Ä–æ–∑–¥—ñ–ª—ñ "Tip" —á—ñ—Ç–∫–æ –∑–∞–∑–Ω–∞—á–µ–Ω–æ: "The system layer is also called the context layer". –û—Å–∫—ñ–ª—å–∫–∏ Layer 0 —î system layer, —Ç–æ –≤—ñ–Ω —Ç–∞–∫–æ–∂ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è context layer.



# 3.4 **Layer 1 - The process layer**

**200 XP**
* 5 minutes

The process layer of data-flow diagrams is the second layer. You should use it for most systems. Data-flow diagrams at this layer contain separate data-flow diagrams detailing each system part.

**Goal**: Represent **secondary system parts** with enough context to help you understand how they work and interact with each other.

Similar to the system layer, data-flow diagrams in the process layer should fit in a single page and contain all processes for their respective system parts.

## **Important**
Most data-flow diagrams **require** a process-level depth layer for proper assessment.

## **When to use the process layer**
Use the process layer for every system, especially if it handles sensitive data. Systems with sensitive data are at a higher risk of being breached. The context at this level helps you identify threats and ways to reduce or eliminate risks more efficiently.

## **Deep diving into a system part**
In some cases, system parts might require more granular context because of their increased sensitivity and risk. You can best assess threats and risk-reduction strategies by going down to this layer. Follow the same rule from the system layer.

| Step | Guidance |
|------|----------|
| 1 | Create a process element with a clear description label, such as *Web Service Worker Name*. |
| 2 | Create a new file and name it exactly the same way as the description label, with a path-like structure, such as *Web Service Name - Web Service Worker Name*. |
| 3 | Focus the data-flow diagram only on the system subpart you're "zooming into." |

The result is a series of data-flow diagrams in the **subprocess layer**, known as layer 2.

## **Tip**
The path-like file-naming structure helps you differentiate between the different levels.

---

## **Check your knowledge**

**1.**

**Under which layer do most applications fall?**

- [ ] Context Layer
- [ ] Process Layer  
- [ ] Subprocess Layer

---

## **–í—ñ–¥–ø–æ–≤—ñ–¥—å:**

**‚úÖ Process Layer**

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:** –ó–≥—ñ–¥–Ω–æ –∑ —Ç–µ–∫—Å—Ç–æ–º, "Most data-flow diagrams **require** a process-level depth layer for proper assessment" —ñ "You should use it for most systems". –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –±—ñ–ª—å—à—ñ—Å—Ç—å –¥–æ–¥–∞—Ç–∫—ñ–≤ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –¥–µ—Ç–∞–ª—ñ–∑–∞—Ü—ñ—ó –Ω–∞ —Ä—ñ–≤–Ω—ñ –ø—Ä–æ—Ü–µ—Å—ñ–≤ (Layer 1 - Process Layer) –¥–ª—è –Ω–∞–ª–µ–∂–Ω–æ—ó –æ—Ü—ñ–Ω–∫–∏ –±–µ–∑–ø–µ–∫–∏ —Ç–∞ —Ä–∏–∑–∏–∫—ñ–≤.


# 3.5 **Layer 2 - The subprocess layer**

**Completed 100 XP**
* 5 minutes

The subprocess layer of data-flow diagrams is the third layer. You should use it whenever you create systems that are highly sensitive. Data-flow diagrams at this layer contain separate data-flow diagrams detailing each system subpart.

**Goal**: Represent **system subparts** with enough context to help you understand how they work and interact with each other.

Similar to the process layer, data-flow diagrams in the system subprocess layer should fit in a single page and contain all processes for their respective system subparts.

## **Important**
Check with your team to make sure this level of depth is required.

## **When to use the subprocess layer**
Use the subprocess layer for systems the organization considers critical. A breach in a system subpart could put the entire system, customers, and organization at critical risk.

Examples include systems that:
* Are used in secured environments.
* Handle sensitive data.
* Have a high risk rating.

## **Deep diving into a system subpart**
Any system subparts requiring deeper dives should follow the same rule from the process layer and have their own separate data-flow diagrams. The lower-level view allows users to "zoom-in" and "zoom-out" of the system with as much context and clarity as possible. Here's how:

| Step | Guidance |
|------|----------|
| 1 | Create a process element with a clear description label, such as *Input Parser Name*. |
| 2 | Create a new file and name it exactly the same as the description label, with a tree-like structure, such as *Web Service Name - Web Service Worker Name - Input Parser Name*. |
| 3 | Focus the data-flow diagram only on the lower-level system subpart you're "zooming into." |

The result is a series of data-flow diagrams in the **lower-level layer**, known as layer 3.

## **Tip**
The path-like file-naming structure helps you differentiate between the different levels.


# 3.6 **Layer 3 - The lower-level layer**

The lower-level layer is the last layer, and you should use it whenever you create a kernel-level or critical level system. Data-flow diagrams at this layer contain separate data-flow diagrams detailing each **low-level** system subpart.

**Goal**: Represent **low-level system subparts** with enough context to help you understand how they work and interact with each other.

Similar to the process layer, data-flow diagrams in the lower-level layer should fit in a single page and contain all processes for their respective system subparts.

## **Important**
Check with your team to make sure this level of depth is required.

## **When to use the lower-level layer**
Highly critical systems and kernel-level systems should be threat modeled at this layer. Data-flow diagrams should describe each subprocess in minute detail. Also, it's common to have multiple rounds of security reviews just for one subprocess.

Follow the steps from the previous layers to track each of your diagrams to their respective system parts.

# 3.7 **Summary**

Threat modeling allows engineers to graphically describe their system to others. It creates a common ground and enables more focused security conversations.

However, threat models can either get too complex or too high-level, depending on the system you're building and the required context.

In this module, you learned to prioritize your issues and apply the right layer of security controls based on type and function.

In this module, you:
* Learned the differences between the data-flow diagram depth layers.
* Learned when to use each layer.

## **Note**
**Did You Know?** In addition to the four layers, you can also create diagrams based on user roles to help identify authentication and authorization weaknesses. According to sources like **OWASP**, those mishaps are among the top security issues across organizations today, so applying threat modeling per applicable role can strengthen your overall system security and help protect your customers.

---

## **Check your knowledge**

**1.**

**Which statement summarizes the importance of defining context depth layers earlier in the threat modeling stage?**

- [ ] It allows me to gather details about all of the external components used.
- [ ] It helps me generate the right level of context according to requirements and expectations.
- [ ] It helps me identify all applicable threats before a security review takes place.

---

## **–í—ñ–¥–ø–æ–≤—ñ–¥—å:**

**‚úÖ It helps me generate the right level of context according to requirements and expectations.**

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:** –£ —Ç–µ–∫—Å—Ç—ñ —á—ñ—Ç–∫–æ –∑–∞–∑–Ω–∞—á–µ–Ω–æ, —â–æ "threat models can either get too complex or too high-level, depending on the system you're building and the required context" —ñ —â–æ –≤ –º–æ–¥—É–ª—ñ –≤–∏ –Ω–∞–≤—á–∏–ª–∏—Å—è "apply the right layer of security controls based on type and function". –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä—ñ–≤–Ω—ñ–≤ –≥–ª–∏–±–∏–Ω–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –¥–æ–ø–æ–º–∞–≥–∞—î –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ä—ñ–≤–µ–Ω—å –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –≤–∏–º–æ–≥ —Ç–∞ –æ—á—ñ–∫—É–≤–∞–Ω—å.


# 4 Approach your data-flow diagram with the right threat model focus

Threat modeling is an effective technique to help you identify threats and ways to reduce or eliminate risk. We start by deciding to focus on either what needs to be protected or who it needs protection from.

#### **Learning objectives**
In this module, you learn how to:
* Define a system focused threat modeling exercise
* Explain the high-level differences between the system, asset, and attacker focused approaches

# 4.1 **Introduction**

Threat modeling is an effective technique to help you identify threats and find ways to reduce risk. It helps you choose what to focus on when identifying what needs to be protected, or how an attacker could operate in the system.

## **Focusing on what's important**
Having the right focus helps you tailor the threat-modeling exercise to produce quality results.

Examples include:
* Designing a file sharing-application and focusing on protecting its processes, data stores, and data-flow.
* Designing a file-sharing application and focusing on learning more about the attacker.
   * Include the attacker's motives and possible means to target your application.

In this module, you explore what it means to conduct a system-focused threat-modeling exercise. Also, you learn the high-level differences between system-, asset-, and attacker-focused approaches.

## **Learning objectives**
In this module, you learn how to:
* Define a system-focused threat modeling exercise.
* Explain the high-level differences between the system-, asset-, and attacker-focused approaches.

## **Prerequisites**
* None


# 4.2 **Threat Modeling Focused Approaches**

Threat modeling is a great technique to help you find issues early in the development lifecycle. Choosing the right focused approach helps you tailor the threat-modeling exercise, allowing you to find more actionable threats and ways to solve them.

## **System-focused approach**
Your goal is to protect the entire system. Here, you look at each process, data store, data-flow, external entity, and trust boundary. With this information, you select security controls to help protect your system.

The framework helps you analyze the system and how it affects other assets, which include:

| Asset Type | Examples |
|------------|----------|
| Logical | Source code, APIs, and logical security controls |
| Physical | Servers and physical security-control assets |

## **Attacker-focused approach**
In the attacker-focused approach, you emphasize the attacker, their motive, means, and all the ways they can wreak havoc in your system. This approach looks at entry points, rather than the system as a whole.

This approach allows you to focus on critical assets holding highly confidential data for your system. Emphasis is placed on protecting those assets instead of the entire system.

## **Asset-focused approach**
Here, you evaluate risk for each asset. This approach identifies critical assets based on things like classified data handling, and focuses mostly on protecting those assets.

## **Note**
Microsoft engineers focus on protecting the system. Penetration testing teams focus on both protecting the system and understanding the attacker.

# 4.3 **System and other focused approaches**

## **The importance of a system-focused approach**
Authenticating your users with Azure is a good thing. Understanding how that authentication works and interacts with each part of the system is better, and avoids creating unknown post-deployment risk.

After all, the goals of threat modeling are to validate assumptions you previously made, identify potential threats, and reduce risk earlier in the development lifecycle.

## **Practical example of a system-focused approach**
Let's take the file-sharing application example. In this case, when you look at your data-flow diagram, you might see these flows:
* User requests access to the application
* Authentication flow kicks off
* User shares files with other users

This approach analyzes and secures each element. The elements include the user, web service, authentication service, data store, trust boundary between internet and Azure, and data flow.

## **Note**
The system-focused approach incorporates a few of the other approaches, but you may want to try them individually to get more granular results.

---

## **Check your knowledge**

**1.**

**What is the benefit of the system-focused approach?**

- [ ] This approach allows you to focus on one critical asset at a time to help identify all potential threats and ways to reduce or eliminate risk.
- [ ] This approach provides information into a potential attacker, including their means, motive, and plan of action.
- [ ] This approach allows you to focus on how the system handles users and data. It also validates security assumptions across physical and logical assets used with the service.

**2.**

**What is the benefit of the attacker-focused approach?**

- [ ] This approach allows you to focus on one critical asset at a time and identifies all potential threats and ways to reduce risk.
- [ ] Instead of focusing on the service, this approach focuses on the attacker, their motivations and means to attack your system.
- [ ] This approach provides information into the system, especially as it handles errors and requests.

---

## **–í—ñ–¥–ø–æ–≤—ñ–¥—ñ:**

**1. ‚úÖ This approach allows you to focus on how the system handles users and data. It also validates security assumptions across physical and logical assets used with the service.**

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:** –£ —Ç–µ–∫—Å—Ç—ñ –∑–∞–∑–Ω–∞—á–µ–Ω–æ, —â–æ system-focused –ø—ñ–¥—Ö—ñ–¥ –∞–Ω–∞–ª—ñ–∑—É—î —Ç–∞ –∑–∞–±–µ–∑–ø–µ—á—É—î –±–µ–∑–ø–µ–∫—É –∫–æ–∂–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç—É —Å–∏—Å—Ç–µ–º–∏, –≤–∫–ª—é—á–∞—é—á–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, –≤–µ–±-—Å–µ—Ä–≤—ñ—Å–∏, —Å–µ—Ä–≤—ñ—Å–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó, —Å—Ö–æ–≤–∏—â–∞ –¥–∞–Ω–∏—Ö —Ç–∞ –º–µ–∂—ñ –¥–æ–≤—ñ—Ä–∏. –¢–∞–∫–æ–∂ –∑–≥–∞–¥—É—î—Ç—å—Å—è, —â–æ —Ü—ñ–ª—ñ threat modeling –≤–∫–ª—é—á–∞—é—Ç—å –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –ø—Ä–∏–ø—É—â–µ–Ω—å.

**2. ‚úÖ Instead of focusing on the service, this approach focuses on the attacker, their motivations and means to attack your system.**

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:** –£ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É —Ç–µ–∫—Å—Ç—ñ —á—ñ—Ç–∫–æ –∑–∞–∑–Ω–∞—á–µ–Ω–æ: "In the attacker-focused approach, you emphasize the attacker, their motive, means, and all the ways they can wreak havoc in your system."


# **Summary**

Threat modeling is an effective technique to help you identify threats and ways to reduce or eliminate risk. You can focus on identifying what needs to be protected, or how an attacker could operate in the system.

You explored what it means to conduct a system-focused threat modeling exercise. You also learned the difference between system-, asset-, and attacker-focused approaches.

In this module, you:
* Defined a system-focused threat-modeling exercise.
* Explained the high-level differences between the system-, asset-, and attacker-focused approaches.


# 5 Use a framework to identify threats and find ways to reduce or eliminate risk

Threat modeling helps you generate a list of potential threats using the threat modeling framework and find ways to reduce or eliminate risk with corresponding security controls.

# 5.1 **Introduction**


A threat-modeling framework helps you generate a list of potential threats and find ways to reduce or eliminate risk.

As long as you have a working knowledge of information security, the framework takes you through the major categories of threats to make sure they're tackled appropriately.

## **When to use the framework**
You should apply this framework to every data-flow diagram created for a new or existing system.

## **Note**
The goal is to find and fix as many issues early in the development lifecycle. The longer you wait, the greater the risk for your customers.

## **What to expect**
The framework takes you through six major threat categories, with countless potential threats under each one.

Using the framework, you're able to answer questions like:
* Are both sides of the communication authenticated?
* How do I know someone can't change data in transit, in use, or at rest?
* Can every action be tied to an identity?
* How do I know someone can't see data in transit, in use, or at rest?
* Are there areas in the system where resources are limited?
* How do I know someone is allowed to take this action?

In this module, you learn about each threat category and its corresponding security controls.

## **Learning objectives**
By the end of this module, you're able to:
* Discuss each threat category in the threat-modeling framework.
* Learn about the security controls to help reduce or eliminate risk.

## **Prerequisites**
* None


# 5.2 **Threat modeling framework**


The threat-modeling framework looks at each element in the data-flow diagram, including each one's interactions. It helps you find potential threats and ways to reduce or eliminate risk.

## **Threat categories**
Microsoft engineers find security design issues using the six major threat categories in the STRIDE framework:

| Category | Description |
|----------|-------------|
| Spoofing | Pretending to be someone or something else |
| Tampering | Changing data without authorization |
| Repudiation | Not claiming responsibility for an action taken |
| Information disclosure | Seeing data without permission |
| Denial of service | Overwhelming the system |
| Elevation of privilege | Having permissions I shouldn't have |

## **Security control categories**
Each threat category is associated with a security control to help you reduce or eliminate risk:

| Category | Security Control | Description |
|----------|------------------|-------------|
| Spoofing | Authentication | They are who they say they are |
| Tampering | Integrity | Prevents data from being maliciously modified |
| Repudiation | Non-repudiation | Actions are tied to users |
| Information disclosure | Confidentiality | Data is protected against unintended disclosure |
| Denial of service | Availability | System handles all requests appropriately |
| Elevation of privilege | Authorization | User has appropriate permissions to carry out a request |

In the next few units, we look at each threat category.



# 5.3 **Spoofing - pretending to be someone or something else**

**Spoofing** occurs when a malicious person or a program successfully impersonates you or your system to conduct malicious activities.

Examples include:
* An attacker sends an email to users from an account that seems legitimate with malicious links and attachments to capture their credentials, data, and device access.
* An attacker spoofs Service Set Identifiers (SSIDs) and IP addresses while using open and inherently insecure TCP/IP protocols to send malicious payloads to victims.

## **Elements and interactions at risk from spoofing attacks**

### **Element**
| Name | Shape | Definition |
|------|-------|------------|
| Process | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process50.png) | Activity that modifies or redirects input to an output |
| External Entity | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/external-entity50.png) | Process, data store, or even full fledged applications outside your control |

### **Interaction**
| Name | Interaction | Definition |
|------|-------------|------------|
| Process <-> Process | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process-process.png) | A task receives or sends data to or from a task |
| Process <-> Data store | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process-datastore.png) | A task sends or receives data to or from a data store |
| Process <-> External entity | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process-externalentity.png) | A task sends or receives data to or from an external entity |

## **How to prevent spoofing**
**Authentication** verifies that users and systems are who they claim to be.

Examples include:
* Sending and receiving messages signed with digital signatures to authenticate origin and ensure message integrity.
* Securing data transmissions with TLS/SSL to encrypt traffic between source and target.
* The use of unique credentials with expiring tokens, passwords, or multifactor authentication to help secure user, admin, and service accounts.

## **Common security controls to reduce or eliminate risk**

**For your data:**
* Hashes
* Message Authentication Codes
* Digital Signatures

**For your system:**
* User Authentication
* Cookie Authentication
* Kerberos
* TLS/SSL
* Certificates
* IPSec
* Digitally Signed Packets

## **Tip**
**Good question to ask:** Have I authenticated both sides of the communication?

---

## **Check your knowledge**

**1.**

**Which statement describes a potential security control against spoofing?**

- [ ] Sender digitally signs a message so the receiver knows who the message came from.
- [ ] System logs all actions and users to keep everyone accountable.
- [ ] System grants administrative access to users listed on the access control list.



## **–í—ñ–¥–ø–æ–≤—ñ–¥—å:**

**‚úÖ Sender digitally signs a message so the receiver knows who the message came from.**

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:** Spoofing –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É, —â–æ –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫ –≤–∏–¥–∞—î —Å–µ–±–µ –∑–∞ –∫–æ–≥–æ—Å—å —ñ–Ω—à–æ–≥–æ. –¶–∏—Ñ—Ä–æ–≤–∏–π –ø—ñ–¥–ø–∏—Å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–æ–∑–≤–æ–ª—è—î –æ—Ç—Ä–∏–º—É–≤–∞—á—É –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è –≤ –∞–≤—Ç–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞, —â–æ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –ø—Ä–æ—Ç–∏–¥—ñ—î —Å–ø—É—Ñ—ñ–Ω–≥—É. –Ü–Ω—à—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ —Å—Ç–æ—Å—É—é—Ç—å—Å—è —ñ–Ω—à–∏—Ö —Ç–∏–ø—ñ–≤ –∑–∞–≥—Ä–æ–∑:
- –õ–æ–≥—É–≤–∞–Ω–Ω—è –¥—ñ–π –≤—ñ–¥–Ω–æ—Å–∏—Ç—å—Å—è –¥–æ Non-repudiation (–ø—Ä–æ—Ç–∏–¥—ñ—è –≤—ñ–¥–º–æ–≤—ñ –≤—ñ–¥ –¥—ñ–π)
- –ù–∞–¥–∞–Ω–Ω—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –≤—ñ–¥–Ω–æ—Å–∏—Ç—å—Å—è –¥–æ Authorization (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó)

------------------------------------------------------------------------------------------------

# 5.4 **Tampering - changing data without authorization**

**Tampering** occurs when a malicious attacker reads, modifies, deletes, or inserts data in your system without authorization.

Examples include:
* Modifying data temporarily stored in cache, sent over-the-wire, or permanently stored in databases to compromise data integrity.
* Inserting malicious payloads into browser caches to cause erratic behavior in processes and data stores.
* Modifying memory through weak API call handling to cause crashes and disclosure of sensitive error messages.
* Redirecting data to compromised machines to take over the system.
* Tricking users into joining a network or downloading a file, which grants them traffic and device access (used in combination with spoofing).

## **Elements and interactions at risk from tampering attacks**

### **Element**
| Name | Shape | Definition |
|------|-------|------------|
| Process | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process50.png) | Activity that modifies or redirects input to an output. |
| Data store | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/data-store50.png) | Permanent or temporary data storage. |
| Data-flow | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/data-flow50.png)| Data movement between elements. |

### **Interaction**
| Name | Interaction | Definition |
|------|-------------|------------|
| Process <-> Data store | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process-datastore.png) | A task sends or receives data to or from a data store. |
| Data-flow <-> Trust boundary |  ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/flow-trustboundary.png) | Data is transmitted from a trusted environment to someone over the internet (and vice-versa). |

## **How to prevent tampering**
**Integrity** prevents data from being maliciously modified. Examples include:
* Validating input to prevent the processing of malicious payloads and mishandling of unexpected behavior.
* Signing messages with digital signatures to ensure messages aren't tampered with.
* Using access-control lists to apply permissions.
* Using TLS/SSL to secure transmission.
* Creating an IPSec tunnel to secure communication between endpoints.

## **Common security controls to reduce or eliminate risk**
* Operating system integrity controls
* Access control lists (ACL)
* Digital signatures
* Message authentication codes

## **Tip**
**Good question to ask:** How do I know someone can't change my data in transit or at rest?

---

## **Check your knowledge**

**1.**

**Which statement describes a potential security control against tampering?**

- [ ] Sender encrypts the attachment of an email so the receiver knows it came from them.
- [ ] System logs all actions and users to keep everyone accountable.
- [ ] System grants administrative access to users listed on the access control list.

---

## **–í—ñ–¥–ø–æ–≤—ñ–¥—å:**

**‚úÖ Sender encrypts the attachment of an email so the receiver knows it came from them.**

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:** –•–æ—á–∞ —Ñ–æ—Ä–º—É–ª—é–≤–∞–Ω–Ω—è –º–æ–∂–µ –∑–¥–∞–≤–∞—Ç–∏—Å—è –Ω–µ—Ç–æ—á–Ω–∏–º, —Ü–µ–π –≤–∞—Ä—ñ–∞–Ω—Ç –Ω–∞–π–±—ñ–ª—å—à–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ tampering. –®–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –∑–∞–±–µ–∑–ø–µ—á—É—î —Ü—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö —ñ –¥–æ–ø–æ–º–∞–≥–∞—î –≤–∏—è–≤–∏—Ç–∏, —á–∏ –±—É–ª–∏ –¥–∞–Ω—ñ –∑–º—ñ–Ω–µ–Ω—ñ –ø—ñ–¥ —á–∞—Å –ø–µ—Ä–µ–¥–∞—á—ñ. –Ø–∫—â–æ –¥–∞–Ω—ñ –±—É–ª–∏ –ø—ñ–¥—Ä–æ–±–ª–µ–Ω—ñ, —Ä–æ–∑—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –Ω–µ –≤–¥–∞—Å—Ç—å—Å—è –∞–±–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–º.

–Ü–Ω—à—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ —Å—Ç–æ—Å—É—é—Ç—å—Å—è —ñ–Ω—à–∏—Ö —Ç–∏–ø—ñ–≤ –∑–∞–≥—Ä–æ–∑:
- –õ–æ–≥—É–≤–∞–Ω–Ω—è –¥—ñ–π –≤—ñ–¥–Ω–æ—Å–∏—Ç—å—Å—è –¥–æ Non-repudiation
- –ù–∞–¥–∞–Ω–Ω—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –≤—ñ–¥–Ω–æ—Å–∏—Ç—å—Å—è –¥–æ Authorization

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –ù–∞–π—Ç–æ—á–Ω—ñ—à–æ—é –≤—ñ–¥–ø–æ–≤—ñ–¥–¥—é –¥–ª—è tampering –±—É–≤ –±–∏ —Ü–∏—Ñ—Ä–æ–≤–∏–π –ø—ñ–¥–ø–∏—Å –∞–±–æ Message Authentication Code (MAC), –∞–ª–µ —Å–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω–∏—Ö –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è —î –Ω–∞–π–±–ª–∏–∂—á–∏–º –¥–æ –∑–∞—Ö–∏—Å—Ç—É —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö.

-------------------------------------------------------------

# 5.5 **Repudiation - not claiming responsibility for an action taken**

**Repudiation** occurs when someone, with or without malicious intent, takes an action but claims otherwise.

Examples include:
* Denying the modification of logs containing sensitive actions.
* Using someone else's account to avoid getting caught.
* Claiming not to have deleted database records.

## **Note**
System logs are a goldmine for an attacker, not just to manipulate, but also to gather data about users, environment, and weaknesses.

## **Elements and interactions at risk from repudiation attacks**

### **Element**
| Name | Shape | Definition |
|------|-------|------------|
| Process | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process50.png) | Activity that modifies or redirects input to an output |
| External entity | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/external-entity50.png)| Process, data store, or even full-fledged applications outside your control |
| Data store | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/data-store50.png)| Permanent or temporary data storage |

### **Interaction**
| Name | Interaction | Definition |
|------|-------------|------------|
| Process <-> Process | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process-process.png) | A task sends or receives data to or from another task. |
| Process <-> External Entity | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process-externalentity.png) | A task sends or receives data to or from a user. |
| Process <-> Data Store | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process-datastore.png) | A task sends or receives data to or from a data store. |

## **How to prevent repudiation**
**Non-repudiation** ensures each action can be traced back to its origin by creating and protecting security logs.

## **Common security controls to reduce or eliminate risk**
* Strong authentication
* Secure logging and monitoring
* Digital signatures
* Secure timestamps
* Trusted third parties

## **Tip**
**Good question to ask:** Can I tie every action to an identity?

---

## **Check your knowledge**

**1.**

**Which statement describes a potential security control against repudiation?**

- [ ] Sender digitally signs a message so the receiver knows who the message came from.
- [ ] System logs all actions and users to keep everyone accountable.
- [ ] System grants administrative access to users listed on the access control list.

---

## **–í—ñ–¥–ø–æ–≤—ñ–¥—å:**

**‚úÖ System logs all actions and users to keep everyone accountable.**

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:** Repudiation - —Ü–µ –≤—ñ–¥–º–æ–≤–∞ –≤—ñ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ –∑–∞ –≤—á–∏–Ω–µ–Ω—ñ –¥—ñ—ó. –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ —Ü—å–æ–≥–æ —Ç–∏–ø—É –∑–∞–≥—Ä–æ–∑ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è Non-repudiation —ñ –∑–∞–±–µ–∑–ø–µ—á—É—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –¥–æ–≤–µ—Å—Ç–∏, —Ö—Ç–æ —Å–∞–º–µ –≤–∏–∫–æ–Ω–∞–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É –¥—ñ—é. –°–∏—Å—Ç–µ–º–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –¥—ñ–π —Ç–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Å—Ç–≤–æ—Ä—é—î –∞—É–¥–∏—Ç–æ—Ä—Å—å–∫–∏–π —Å–ª—ñ–¥, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –ø—Ä–∏–≤'—è–∑–∞—Ç–∏ –∫–æ–∂–Ω—É –¥—ñ—é –¥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –æ—Å–æ–±–∏, —â–æ —É–Ω–µ–º–æ–∂–ª–∏–≤–ª—é—î –≤—ñ–¥–º–æ–≤—É –≤—ñ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ.

–Ü–Ω—à—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ —Å—Ç–æ—Å—É—é—Ç—å—Å—è —ñ–Ω—à–∏—Ö —Ç–∏–ø—ñ–≤ –∑–∞–≥—Ä–æ–∑:
- –¶–∏—Ñ—Ä–æ–≤–∏–π –ø—ñ–¥–ø–∏—Å –≤—ñ–¥–Ω–æ—Å–∏—Ç—å—Å—è –¥–æ Authentication (–∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ spoofing)
- –ù–∞–¥–∞–Ω–Ω—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –≤—ñ–¥–Ω–æ—Å–∏—Ç—å—Å—è –¥–æ Authorization (–∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ elevation of privilege)





# 5.6 **Information disclosure - seeing data I'm not supposed to see**

**Information disclosure** occurs when sensitive data is exposed to unauthorized individuals. It can happen with or without intention.

Examples include:
* System reveals sensitive data through error messages.
* Users access unauthorized documents and folders with weak security controls.
* Users access data flowing through an unsecured network.

## **Elements and interactions at risk from information disclosure**

### **Element**
| Name | Shape | Definition |
|------|-------|------------|
| Process | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process50.png) | Activity that modifies or redirects input to an output. |
| Data store | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/data-store50.png)| Permanent or temporary data storage. |
| Data-flow | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/data-flow50.png)| Data movement between elements. |

### **Interaction**
| Name | Interaction | Definition |
|------|-------------|------------|
| Process -> Process |![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process-process-unilateral.png)| A task sends data to another task. |
| Process <-> External entity | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process-externalentity.png)| A task sends or receives data to or from a user. |
| Process <-> Data store | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process-datastore.png) | A task sends or receives data to or from a data store. |
| Data Flow <-> Trust boundary | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/flow-trustboundary.png) | Data is transmitted from a trusted environment to someone over the internet (and vice-versa). |

## **How to prevent information disclosure**
**Confidentiality** ensures data is protected.

Examples include:
* Applying access-control lists to ensure the right users can access the right data.
* Encrypting data at rest, in transit, and in use.
* Enforcing TLS/SSL to secure transmission.
* Using IPSec tunnels to secure communication across endpoints.

## **Common security controls to reduce or eliminate risk**
* Encryption
* Access Control Lists (ACL)

## **Tip**
**Good question to ask:** Can I be sure no one can see my data in transit and at rest?

---

## **Check your knowledge**

**1.**

**Which statement describes a potential security control against information disclosure?**

- [ ] Sender digitally signs a message so the receiver knows who the message came from.
- [ ] System grants administrative access to users listed on the access control list.
- [ ] System logs all actions and users to keep everyone accountable.

---

## **–í—ñ–¥–ø–æ–≤—ñ–¥—å:**

**‚úÖ System grants administrative access to users listed on the access control list.**

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:** Information disclosure - —Ü–µ –Ω–µ—Å–∞–Ω–∫—Ü—ñ–æ–Ω–æ–≤–∞–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó. Access Control Lists (ACL) –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É, –¥–æ–∑–≤–æ–ª—è—é—á–∏ –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ –¥–∞–Ω—ñ –ª–∏—à–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º, —â–æ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –ø—Ä–æ—Ç–∏–¥—ñ—î —Ä–æ–∑–∫—Ä–∏—Ç—Ç—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó. –ù–∞–≤—ñ—Ç—å —è–∫—â–æ —Ü–µ —Å—Ç–æ—Å—É—î—Ç—å—Å—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É, –ø—Ä–∏–Ω—Ü–∏–ø –∫–æ–Ω—Ç—Ä–æ–ª—é –¥–æ—Å—Ç—É–ø—É —î –æ—Å–Ω–æ–≤–Ω–∏–º –º–µ—Ö–∞–Ω—ñ–∑–º–æ–º –∑–∞—Ö–∏—Å—Ç—É –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ.

–Ü–Ω—à—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ —Å—Ç–æ—Å—É—é—Ç—å—Å—è —ñ–Ω—à–∏—Ö —Ç–∏–ø—ñ–≤ –∑–∞–≥—Ä–æ–∑:
- –¶–∏—Ñ—Ä–æ–≤–∏–π –ø—ñ–¥–ø–∏—Å –≤—ñ–¥–Ω–æ—Å–∏—Ç—å—Å—è –¥–æ Authentication (–∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ spoofing)
- –õ–æ–≥—É–≤–∞–Ω–Ω—è –¥—ñ–π –≤—ñ–¥–Ω–æ—Å–∏—Ç—å—Å—è –¥–æ Non-repudiation (–∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ repudiation)



# 5.7 Denial of Service - overwhelming the system

**Denial of service** occurs when an attacker causes the system to be unavailable.

Examples include:
* Flooding the network with requests.
* Absorbing memory and CPU processes.
* Crashing data stores with an overwhelming number of requests.

## Elements and interactions at risk from denial of service

### Element
| Name | Shape | Definition |
|------|-------|------------|
| Process | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process50.png) | Activity that modifies or redirects input to an output. |
| Data store | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/data-store50.png) | Permanent or temporary data storage. |
| Data-flow | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/data-flow50.png)| Data movement between elements |

### Interaction
| Name | Interaction | Definition |
|------|-------------|------------|
| Process -> Process | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process-process-unilateral.png) | A task sends data to another task. |
| Process <-> External Entity | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process-externalentity.png)| A task sends or receives data to or from a user. |
| Process <-> Data Store | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process-datastore.png) | A task sends or receives data to or from a data store. |
| Data Flow <-> Trust Boundary | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/flow-trustboundary.png) | Data is transmitted from a trusted environment to someone over the internet (and vice-versa). |

## How to prevent denial of service

**Availability** ensures your system is up and running for users. Examples include:
* Using network access-control lists to control incoming and outgoing traffic.
* Using elastic resources to manage usage when it grows or shrinks.
* Monitoring the system to detect anomalies.
* Enabling operating-system flags to handle memory and CPU processes.

### Common security controls to reduce or eliminate risk
* Access control lists (ACL)
* Filtering
* Quotas
* Authorization
* High availability

> **üí° Tip**
> 
> **Good question to ask:** Are there areas where my service is resource-limited?

---

## Check your knowledge

**1. Which statement describes a potential security control against denial of service?**

- [ ] Sender digitally signs a message so the receiver knows who the message came from.
- [ ] System logs all actions and users to keep everyone accountable.
- [x] **System relies on elastic resources to handle more requests as they arrive**

---

## üìù –í—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å: System relies on elastic resources to handle more requests as they arrive**

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**

1. **–ü–µ—Ä—à–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç** (—Ü–∏—Ñ—Ä–æ–≤–∏–π –ø—ñ–¥–ø–∏—Å) —Å—Ç–æ—Å—É—î—Ç—å—Å—è **–∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ç–∞ –Ω–µ—Å–ø—Ä–æ—Å—Ç–æ–≤–Ω–æ—Å—Ç—ñ**, –∞ –Ω–µ –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ DoS –∞—Ç–∞–∫.

2. **–î—Ä—É–≥–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç** (–ª–æ–≥—É–≤–∞–Ω–Ω—è –¥—ñ–π) –≤—ñ–¥–Ω–æ—Å–∏—Ç—å—Å—è –¥–æ **–∞—É–¥–∏—Ç—É —Ç–∞ –ø—ñ–¥–∑–≤—ñ—Ç–Ω–æ—Å—Ç—ñ**, —â–æ –Ω–µ –¥–æ–ø–æ–º–∞–≥–∞—î –ø—Ä–æ—Ç–∏ DoS.

3. **–¢—Ä–µ—Ç—ñ–π –≤–∞—Ä—ñ–∞–Ω—Ç** (–µ–ª–∞—Å—Ç–∏—á–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏) —î **–ø—Ä—è–º–∏–º –∑–∞—Å–æ–±–æ–º –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ DoS**, –æ—Å–∫—ñ–ª—å–∫–∏:
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –º–∞—Å—à—Ç–∞–±—É—î —Ä–µ—Å—É—Ä—Å–∏ –ø—Ä–∏ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—ñ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
   - –ó–∞–ø–æ–±—ñ–≥–∞—î –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—é —Å–∏—Å—Ç–µ–º–∏ —á–µ—Ä–µ–∑ –∑–±—ñ–ª—å—à–µ–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤
   - –ó–∞–±–µ–∑–ø–µ—á—É—î **–¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å (Availability)** - –∫–ª—é—á–æ–≤–∏–π –ø—Ä–∏–Ω—Ü–∏–ø –ø—Ä–æ—Ç–∏ DoS –∞—Ç–∞–∫
   - –í—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó **High availability** –∑ —Å–ø–∏—Å–∫—É –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∏—Ö –∑–∞—Ö–æ–¥—ñ–≤

–ï–ª–∞—Å—Ç–∏—á–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏ –¥–æ–∑–≤–æ–ª—è—é—Ç—å —Å–∏—Å—Ç–µ–º—ñ –¥–∏–Ω–∞–º—ñ—á–Ω–æ –∞–¥–∞–ø—Ç—É–≤–∞—Ç–∏—Å—è –¥–æ –∑–º—ñ–Ω –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è, —â–æ —î –æ—Å–Ω–æ–≤–Ω–æ—é —Å—Ç—Ä–∞—Ç–µ–≥—ñ—î—é –±–æ—Ä–æ—Ç—å–±–∏ –∑ DoS –∞—Ç–∞–∫–∞–º–∏ —Ç–∏–ø—É "flooding the network with requests".



# 5.8 Elevation of privilege - having permissions I should not have

**Elevation of privilege** occurs when individuals access resources without permission. Examples include:
* Extracting data by exploiting weaknesses in input-handling logic or memory.
* Finding and using privileged accounts to corrupt the service (used in combination with spoofing and tampering threats).

## Elements and interactions at risk from elevation of privilege

### Element
| Name | Shape | Definition |
|------|-------|------------|
| Process | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process50.png) | Activity that modifies or redirects input to an output. |

### Interaction
| Name | Interaction | Definition |
|------|-------------|------------|
| Process <-> Process | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process-process.png)| A task sends data to another task. |
| Process <- External entity | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process-externalentity-unilateral.png)| A task receives data from a user. |
| Process <- Data store | ![](https://learn.microsoft.com/en-us/training/modules/tm-use-a-framework-to-identify-threats-and-find-ways-to-reduce-or-eliminate-risk/media/process-datastore-unilateral.png)| A task receives data from a data store. |

## How to prevent elevation of privilege

**Authorization** ensures users have proper permissions. Examples include:
* Implementing authorization mechanisms to verify permissions to data and resources.
* Applying security controls to run the service using the least possible amount of access.
* Monitoring access to detect anomalies and unauthorized access attempts.

### Common security controls to reduce or eliminate risk
* Access-control lists (ACL)
* Role-based access controls (RBAC)
* Group-based access
* Permissions
* Input validation

> **üí° Tip**
> 
> **Good question to ask:** How do I know the user is allowed to do this?

---

## Check your knowledge

**1. Which statement describes a potential security control against elevation of privilege?**

- [x] **System runs a process with the least possible amount of privilege.**
- [ ] Sender digitally signs a message so the receiver knows who the message came from.
- [ ] System logs all actions and users to keep everyone accountable.

---

## üìù –í—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å: System runs a process with the least possible amount of privilege.**

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**

1. **–ü–µ—Ä—à–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç** (–∑–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—ñ–≤ –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º–∏ –ø—Ä–∏–≤—ñ–ª–µ—è–º–∏) —î **–ø—Ä—è–º–∏–º –∑–∞—Å–æ–±–æ–º –∑–∞—Ö–∏—Å—Ç—É** –≤—ñ–¥ –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—ó–≤, –æ—Å–∫—ñ–ª—å–∫–∏:
   - –†–µ–∞–ª—ñ–∑—É—î **–ø—Ä–∏–Ω—Ü–∏–ø –Ω–∞–π–º–µ–Ω—à–∏—Ö –ø—Ä–∏–≤—ñ–ª–µ—ó–≤ (Principle of Least Privilege)**
   - –û–±–º–µ–∂—É—î –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω—É —à–∫–æ–¥—É —É –≤–∏–ø–∞–¥–∫—É –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü—ñ—ó –ø—Ä–æ—Ü–µ—Å—É
   - –ó–∞–ø–æ–±—ñ–≥–∞—î –Ω–µ—Å–∞–Ω–∫—Ü—ñ–æ–Ω–æ–≤–∞–Ω–æ–º—É –¥–æ—Å—Ç—É–ø—É –¥–æ —Ä–µ—Å—É—Ä—Å—ñ–≤
   - –Ñ –æ—Å–Ω–æ–≤–Ω–∏–º –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∏–º –∑–∞—Ö–æ–¥–æ–º –ø—Ä–æ—Ç–∏ **Elevation of Privilege** –∞—Ç–∞–∫

2. **–î—Ä—É–≥–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç** (—Ü–∏—Ñ—Ä–æ–≤–∏–π –ø—ñ–¥–ø–∏—Å) —Å—Ç–æ—Å—É—î—Ç—å—Å—è **–∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ç–∞ –Ω–µ—Å–ø—Ä–æ—Å—Ç–æ–≤–Ω–æ—Å—Ç—ñ**, –∞ –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª—é –ø—Ä–∏–≤—ñ–ª–µ—ó–≤.

3. **–¢—Ä–µ—Ç—ñ–π –≤–∞—Ä—ñ–∞–Ω—Ç** (–ª–æ–≥—É–≤–∞–Ω–Ω—è) –≤—ñ–¥–Ω–æ—Å–∏—Ç—å—Å—è –¥–æ **–∞—É–¥–∏—Ç—É —Ç–∞ –ø—ñ–¥–∑–≤—ñ—Ç–Ω–æ—Å—Ç—ñ**, —â–æ –¥–æ–ø–æ–º–∞–≥–∞—î –≤–∏—è–≤–∏—Ç–∏ –ø–æ—Ä—É—à–µ–Ω–Ω—è, –∞–ª–µ –Ω–µ –∑–∞–ø–æ–±—ñ–≥–∞—î –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—é –ø—Ä–∏–≤—ñ–ª–µ—ó–≤.

**–ö–æ–Ω—Ç–µ–∫—Å—Ç –±–µ–∑–ø–µ–∫–∏:** Elevation of Privilege - —Ü–µ –∑–∞–≥—Ä–æ–∑–∞ –∑ –º–æ–¥–µ–ª—ñ STRIDE, —è–∫–∞ –≤–∏–Ω–∏–∫–∞—î –∫–æ–ª–∏ –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫ –æ—Ç—Ä–∏–º—É—î –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É –≤–∏—â–æ–≥–æ —Ä—ñ–≤–Ω—è, –Ω—ñ–∂ –π–æ–º—É –¥–æ–∑–≤–æ–ª–µ–Ω–æ. –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—ñ–≤ –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–º–∏ –ø—Ä–∏–≤—ñ–ª–µ—è–º–∏ —î —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏–º –ø—Ä–∏–Ω—Ü–∏–ø–æ–º –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ —Ü—ñ—î—ó –∑–∞–≥—Ä–æ–∑–∏.



# Summary
**Completed ‚Ä¢ 100 XP ‚Ä¢ 3 minutes**

A threat-model framework helps you generate a list of potential threats and find ways to reduce or eliminate risk for your system. You learned about each threat category with its corresponding security controls.

In this module, you:
* Discussed each threat category in the threat-modeling framework.
* Learned about the security controls to help reduce or eliminate risk.

> **üí° Tip**
> 
> **Did you know?** There are many other frameworks you can use to accomplish different goals. Examples include using LINDDUN for privacy threats and attack trees for penetration-testing teams. Attack trees help determine how an attack can take place with an "assumed breach" mentality.

## Learn more

* **LINDDUN**: privacy threat-modeling methodology that supports analysts in systematically finding and resolving privacy threats in software architectures.
* **Cyber kill chain**: describes the typical workflow, including techniques, tactics, and procedures used by attackers to infiltrate an organization's networks and systems.

---

## üìö –î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ frameworks

### LINDDUN Framework
**LINDDUN** - —Ü–µ –∞–∫—Ä–æ–Ω—ñ–º –¥–ª—è —Å–µ–º–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π –∑–∞–≥—Ä–æ–∑ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—ñ:
- **L**inkability - –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø–æ–≤'—è–∑–∞—Ç–∏ –¥—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- **I**dentifiability - –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- **N**on-repudiation - –Ω–µ–º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–∞–ø–µ—Ä–µ—á–∏—Ç–∏ –¥—ñ—ó
- **D**etectability - –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏—è–≤–∏—Ç–∏ –ø—Ä–∏—Å—É—Ç–Ω—ñ—Å—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- **D**isclosure of information - —Ä–æ–∑–∫—Ä–∏—Ç—Ç—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó
- **U**nawareness - –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —É—Å–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –æ–±—Ä–æ–±–∫–∏ –¥–∞–Ω–∏—Ö
- **N**on-compliance - –Ω–µ–¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤–∏–º–æ–≥ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—ñ

### Attack Trees
**–î–µ—Ä–µ–≤–∞ –∞—Ç–∞–∫** - —Ü–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π –º–µ—Ç–æ–¥ –∞–Ω–∞–ª—ñ–∑—É –±–µ–∑–ø–µ–∫–∏, —â–æ:
- –ü–æ–∫–∞–∑—É—î —Ä—ñ–∑–Ω—ñ —à–ª—è—Ö–∏ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è —Ü—ñ–ª—ñ –∞—Ç–∞–∫–∏
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î "assumed breach" –ø—ñ–¥—Ö—ñ–¥
- –î–æ–ø–æ–º–∞–≥–∞—î penetration testing –∫–æ–º–∞–Ω–¥–∞–º
- –í–∏–∑–Ω–∞—á–∞—î –Ω–∞–π–±—ñ–ª—å—à –π–º–æ–≤—ñ—Ä–Ω—ñ –≤–µ–∫—Ç–æ—Ä—ñ –∞—Ç–∞–∫

### Cyber Kill Chain
**–õ–∞–Ω—Ü—é–≥ –∫—ñ–±–µ—Ä–≤–±–∏–≤—Å—Ç–≤–∞** –≤–∫–ª—é—á–∞—î –µ—Ç–∞–ø–∏:
1. **Reconnaissance** - —Ä–æ–∑–≤—ñ–¥–∫–∞
2. **Weaponization** - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–±—Ä–æ—ó
3. **Delivery** - –¥–æ—Å—Ç–∞–≤–∫–∞
4. **Exploitation** - –µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—è
5. **Installation** - –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
6. **Command & Control** - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
7. **Actions on Objectives** - –¥—ñ—ó –¥–ª—è –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è —Ü—ñ–ª–µ–π






# 6 Prioritize your issues and apply security controls

Threat modeling provides you with a list of threats and ways to reduce or eliminate risk, but it doesn't prioritize them for you. Also, there are no layered security control recommendations based on their type and function.


# 6.1 Introduction

The threat-modeling framework helps you generate a list of threats and ways to reduce risk, but it doesn't prioritize them for you.

It also doesn't recommend layered security controls based on their type and function, which makes it harder to decide which controls to implement.

## Prioritizing issues

Deciding the priority of issues is an important piece of threat modeling. It helps you to distribute your limited resources to the most critical issues.

Examples include:
* Having to choose between implementing a feature to log all administrative actions or using SSL/TLS to encrypt traffic.
* Deciding whether to implement access-control lists or strengthen the input validation process for your system first.

## When to prioritize

Assign a priority to each issue according to its risk factor. Also, select security controls that work with others to help provide a layered security-protection mechanism for your system.

This process can take some time. It also requires assistance from your colleagues and security team. Save enough time to work with them.

## Learning objectives

By the end of this module, you're able to:
* Assign priorities to issues.
* Categorize security controls.
* Understand each security control type and function.

## Prerequisites

* None


# 6.2 Issue prioritization, security control types, and functions

The threat-modeling exercise helps you find issues, sometimes more than you expected. The lack of prioritization can leave engineers overwhelmed and unsure of which issues to tackle first.

## How to start

First, determine how critical the issue would be to your system. Second, select the security controls that help provide the most protection at the lowest possible cost.

## Determine priority of security issues

Security issues are prioritized according to the severity of the risk if an attacker exploits the threat. The labels might change from organization to organization. However, they tend to follow a pattern from low-risk to critical.

## Types and functions

Security controls have different types and functions.

There are three main types of security controls that are meant to help you look at three different forms of security.

Examples include:
* **Physical**: Cameras, badges, and fences
* **Technical**: Encryption, virtual firewalls, and antivirus
* **Administrative**: Policies, regulations, and written requirements

Functions are meant to help protect your system against each phase of a potential threat.

Examples include:
* Preventing break-ins with locks.
* Installing cameras to detect break-ins in process.
* Enacting a response plan to correct the break-in.
* Repairing the damage caused by the break-in.
* Deterring future break-ins with signs and added security controls.

In the next few units, we look at priorities, types, and functions.


# 6.3 Prioritize security issues

Generate the list of threats with ways to reduce or eliminate risk, then work with your colleagues to assign priorities.

## Choose the priority framework

The prioritization exercise should follow the internal security bug bar created by your organization.

For reference purposes, the internal bug bar used by engineers at Microsoft is similar to the following table:

| Icon | Severity | Description |
|------|----------|-------------|
| | **Critical** | May cause critical impact for system users. Examples include breaches involving sensitive information disclosure and threats that require privacy and legal involvement. |
| | **Important** | May cause serious impact for system users. Examples include rendering a system unusable with no known workarounds. |
| | **Moderate** | May cause moderate impact for system users. Examples include availability issues with possible workarounds. |
| | **Low** | May cause low impact for system users. |
| | **Information** | Potential threat has been considered, evaluated, and determined not relevant. |

## Check your knowledge

**1. An issue that may cause serious impact for users typically falls under which priority?**

- Important
- Critical  
- Moderate

---

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:** **Important**

–ó–≥—ñ–¥–Ω–æ –∑ —Ç–∞–±–ª–∏—Ü–µ—é –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—ñ–≤, —Ä—ñ–≤–µ–Ω—å "Important" –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è —è–∫ "May cause serious impact for system users" (–º–æ–∂–µ —Å–ø—Ä–∏—á–∏–Ω–∏—Ç–∏ —Å–µ—Ä–π–æ–∑–Ω–∏–π –≤–ø–ª–∏–≤ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Å–∏—Å—Ç–µ–º–∏), —â–æ —Ç–æ—á–Ω–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Ñ–æ—Ä–º—É–ª—é–≤–∞–Ω–Ω—é –∑–∞–ø–∏—Ç–∞–Ω–Ω—è.



# 6.4 Security control types and functions

After you determine a priority for each issue, check out the list of security controls and select the options that provide the most benefit for your system.

The most beneficial security controls are found across multiple STRIDE categories. In most cases, they're also relatively inexpensive to implement.

## Security-control types

As you assess each security control, notice how they fall into one of the following types:

| Icon | Type | Description |
|------|------|-------------|
| | **Physical** | Controls that physically prevent or detect unauthorized access. Examples include gates, badges, cameras, lighting, and suppression systems. |
| | **Technical** | Controls that logically protect your system. Examples include firewalls, antivirus, access control lists, and encryption. |
| | **Administrative** | Controls referring to policies that define processes for your system. Examples include data classification, auditing, and restrictions. |

**Note**  
Depending on your system, you should apply security controls across all types to help create layers for a more secure system.

## Security-control functions

Along with the three main types, security controls also have five different functions to help you apply multiple layers of security.

| Function | Description | Example |
|----------|-------------|---------|
| **Preventative** | Does this strategy help reduce the probability or impact of this threat? | Locks, firewalls, data classification |
| **Detective** | Does this strategy help identify attacks against my system as they happen? | Surveillance, honeypots, audit logs |
| **Corrective** | Does this strategy help control how I respond to an incoming attack? | Physical repair, system patches, incident response plans |
| **Recovery** | Does this mitigation help my service recover from an attack? | Hot-sites, system backups, disaster recovery plan |
| **Deterrent** | Does this mitigation help keep attackers away from my system? | Fences, least privilege, authorized use policy |

**Tip**  
Depending on issue priority, you may want to consider multiple security-control functions to secure your system before, during, and after a potential breach.

## How it all comes together

Together with the security-control types, security-control functions create a matrix that helps you make the right selections. Here are a few examples:

| Function | Physical | Logical | Administrative |
|----------|----------|---------|----------------|
| **Preventative** | Locks | Firewalls | Data classification |
| **Detective** | Surveillance | Honeypots | Audit logs |
| **Corrective** | Physical repair | System patches | Incident response plans |
| **Recovery** | Hot sites | System backups | Disaster recovery plan |
| **Deterrent** | Fences | Least privilege | Authorized use policy |

## Check your knowledge

**1. What is an example of an administrative security control?**

- Creating an Incident Response Plan
- Installing a new firewall
- Adding badge scanners to the entrance door

**2. What does a corrective security control do?**

- It stops a malicious activity from occurring. Examples include firewalls, data classification, and locks.
- It detects and alerts a malicious attack before it happens. Examples include honeypots and alarms.
- It repairs and restores your system after a malicious attack. Examples include patches and incident response plans.

---

**–í—ñ–¥–ø–æ–≤—ñ–¥—ñ:**

**1.** **Creating an Incident Response Plan** - —Ü–µ –ø—Ä–∏–∫–ª–∞–¥ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—é –±–µ–∑–ø–µ–∫–∏, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω —Å—Ç–æ—Å—É—î—Ç—å—Å—è –ø–æ–ª—ñ—Ç–∏–∫ —ñ –ø—Ä–æ—Ü–µ—Å—ñ–≤ –¥–ª—è —Å–∏—Å—Ç–µ–º–∏.

**2.** **It repairs and restores your system after a malicious attack. Examples include patches and incident response plans.** - –∫–æ—Ä–∏–≥—É–≤–∞–ª—å–Ω—ñ –∫–æ–Ω—Ç—Ä–æ–ª—ñ –±–µ–∑–ø–µ–∫–∏ –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ —Ä–µ–∞–≥—É–≤–∞–Ω–Ω—è –Ω–∞ –∞—Ç–∞–∫—É —Ç–∞ –≤—ñ–¥–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—É –ø—ñ—Å–ª—è –Ω–µ—ó.


# 6.5 Summary

The threat-modeling framework provides you with a list of threats and ways to reduce or eliminate risk. However, it doesn't prioritize them for you. There are also no layered security-control recommendations based on their type and function.

You learned how to determine the priority of your issues and apply the right layer of security controls based on type and function.

In this module, you:
* Learned to prioritize your issues.
* Categorized security controls.
* Understood each security control type and function.


# 7 Use recommended tools to create a data-flow diagram

You can use any canvas, physical or virtual, to create a data-flow diagram. Engineers at Microsoft recommend a few tools to help you in your threat modeling journey.

# 7.1 Introduction

A data-flow diagram is a graphical representation of how your system works. It includes all data stores, processes, external entities, trust boundaries, and data-flows. Using these diagrams helps all users in your organization collaborate to enhance your threat modeling work.

## Creating a data-flow diagram

You can use any canvas, physical or virtual, to create a data-flow diagram. However, you do need a working knowledge of threat modeling to analyze it properly.

Some applications provide you with the tools to create a data-flow diagram alongside a threat-generation engine and risk-reduction strategies. Other tools only provide you with the ability to create a data-flow diagram.

The goal of this learning path is to teach you the fundamentals of threat modeling allowing you to threat model on any canvas. We also recommend a couple tools along the way to assist.

## Learning objectives

In this module, you'll:
* Learn more about the Microsoft Threat Modeling Tool.
* Learn more about Visio.

# 7.2 Recommended tools

Threat modeling takes your data-flow diagram and applies a framework to help find threats and ways to reduce or eliminate risk. It helps meet security goals early in the development lifecycle and secures your systems, applications, networks, and services.

Some tools help you create a data-flow diagram, while others also help with the threat-generation exercise. Your level of expertise with threat modeling may dictate which tool fits best. We'll look at two tools in the next couple units.

## Microsoft Threat Modeling Tool

The Microsoft Threat Modeling Tool enables you to create data-flow diagrams. It allows anyone to communicate about the security design of their systems, analyze those designs for potential security issues, and suggest and manage mitigations for security issues.

We look at the different sections, stencils, and elements to see how the different properties work together. Then we analyze risk-reduction strategies to specify how threat generation works.

## Visio

Our other recommended tool is Visio. It gives you a clean canvas to create data-flow diagrams. With the Visio desktop and web applications, you can view, edit, and share Visio diagrams as well. You can also save them in Sharepoint or OneDrive to share with others.

We talk about some of the basic functionality of Visio as well as pros and cons associated with the tool.


# 7.2 Threat modeling tool

The Microsoft Threat Modeling Tool, recognized by the threat-modeling community, helps engineers create data-flow diagrams. It offers customizable templates and a threat-generation engine with threats and risk-reduction strategies.

The default template is called SDL TM Knowledge Base and gives you a basic set of elements and threat-generation capabilities. All you need is a basic understanding of data-flow diagrams and STRIDE.

## STRIDE

STRIDE is a model that categorizes security threats to help identify them. The Microsoft Threat Modeling Tool helps apply STRIDE for threat-modeling work. STRIDE is the acronym for the six major threat categories:

- **Spoofing**: Pretending to be someone or something else.
- **Tampering**: Changing data without authorization.
- **Repudiation**: Not claiming responsibility for an action taken.
- **Information disclosure**: Seeing data without permission.
- **Denial of service**: Overwhelming the system.
- **Elevation of privilege**: Having permissions I shouldn't have.

With this in mind, you can customize your template across the areas we'll discuss next in stencils, threat properties, and risk reduction strategies.

## Stencils

Stencils are made up of parent stencils that include process, external interactor, data store, data-flow, and trust boundaries. They can be drag-and-dropped onto your canvas to build your data-flow diagram.

![](https://learn.microsoft.com/en-us/training/modules/tm-use-recommended-tools-to-create-a-data-flow-diagram/media/parentstencils.jpg)

You can also create child stencils to help provide granularity for more context, actionable threat generation, and risk-reduction strategies.

![](https://learn.microsoft.com/en-us/training/modules/tm-use-recommended-tools-to-create-a-data-flow-diagram/media/expandedflowstencils.jpg)

### Example of how child elements work

The data-flow parent element gives you the option to choose between the HTTP and HTTPS child elements. HTTP should generate more threats because tampering, information disclosure, and spoofing threats are common with unencrypted channels. Following are images of using HTTP vs. HTTPS.

![](https://learn.microsoft.com/en-us/training/modules/tm-use-recommended-tools-to-create-a-data-flow-diagram/media/http.jpg)

![](https://learn.microsoft.com/en-us/training/modules/tm-use-recommended-tools-to-create-a-data-flow-diagram/media/https.jpg)

### Add element properties

If you have other properties that must be included in the default template, you can add them to each element in the administrator view.

![](https://learn.microsoft.com/en-us/training/modules/tm-use-recommended-tools-to-create-a-data-flow-diagram/media/stencilpropertiesadmin.jpg)

You can see the changes whenever you drag and drop that element onto the canvas.

![](https://learn.microsoft.com/en-us/training/modules/tm-use-recommended-tools-to-create-a-data-flow-diagram/media/stencilproperties.jpg)

## Threat properties

These properties allow you to create fields that are filled out for each generated threat, just like stencil properties allow you to create fields for each element. Remember, the goal is to have as much context as possible in the simplest manner.

### Administrator and User Views

Administrators can add fields that give you more context and actionable steps. Examples include:

- **Issue priority**: Understand which issues need to be worked on first.
- **Hyperlinks**: Link issues to online documentation.
- **External risk mapping**: Speak the same risk language of other organizations by using reliable third-party sources, such as OWASP (Open Worldwide Application Security Project) Top 10 and CWE (Common Weakness Enumeration) Details.

![](https://learn.microsoft.com/en-us/training/modules/tm-use-recommended-tools-to-create-a-data-flow-diagram/media/threatadminview.jpg)

Then in the User view, the Threat Modeling Tool users see changes whenever they analyze their data-flow diagrams.

![](https://learn.microsoft.com/en-us/training/modules/tm-use-recommended-tools-to-create-a-data-flow-diagram/media/threatuserview.jpg)

## Threats and risk reduction strategies

This section is the heart of the threat modeling tool. The threat-generation engine looks at individual and connected elements to decide which threats to generate.

**Step 1** specifies sources and targets. The threat-generation engine uses simple sentences to generate a threat. Examples include target is [element name] and source is [element name]. You can also use the element name on titles and descriptions. The format is {target.Name} or {source.Name}.

**Step 2** combines sources and targets. You can be precise with the way a threat is generated. Combine targets, sources, and their individual properties with AND/OR operators. Examples include:

- target.[property name] is 'Yes' AND source.[property name] is 'No'
- flow crosses [trust boundary name]

**Step 3** generates or ignores threats. The threat-generation engine uses two fields to generate or ignore a threat:

- **Include**: A threat is generated if sentences added in this field are true.
- **Exclude**: A threat isn't generated if sentences added in this field are true.

Here's an actual example from the default template to bring these steps together:

**Threat**: Cross Site Scripting  
**Include**: (target is [Web Server]) OR (target is [Web Application])  
**Exclude**: (target.[Sanitizes Output] is 'Yes') AND (target.[Sanitizes Input] is 'Yes')

The Cross Site Scripting threat in this example is only generated when the process is either a Web Server or a Web Application and Input and output aren't sanitized.

![](https://learn.microsoft.com/en-us/training/modules/tm-use-recommended-tools-to-create-a-data-flow-diagram/media/includeexclude.jpg)

> **Note**
> 
> Microsoft Threat Modeling Tool template creation is a complex topic and won't be fully discussed in this learning path.

## Check your knowledge

**1. What benefit does the threat modeling tool not provide?**

- Generated threats are based on the entire diagram, not just each element or each individual interaction.
- Threats, stencils, and stencil properties can be changed.
- Ways to reduce or eliminate risk are included with each generated threat.

**–í—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è:**

**Generated threats are based on the entire diagram, not just each element or each individual interaction.**

–¶–µ –ø—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å, –æ—Å–∫—ñ–ª—å–∫–∏ –∑–≥—ñ–¥–Ω–æ –∑ —Ç–µ–∫—Å—Ç–æ–º, Microsoft Threat Modeling Tool –≥–µ–Ω–µ—Ä—É—î –∑–∞–≥—Ä–æ–∑–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –æ–∫—Ä–µ–º–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —Ç–∞ —ó—Ö –∑'—î–¥–Ω–∞–Ω—å ("The threat-generation engine looks at individual and connected elements to decide which threats to generate"), –∞ –Ω–µ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ü—ñ–ª—ñ—Å–Ω–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É –≤—Å—ñ—î—ó –¥—ñ–∞–≥—Ä–∞–º–∏ —è–∫ —î–¥–∏–Ω–æ–≥–æ —Ü—ñ–ª–æ–≥–æ.

–Ü–Ω—à—ñ –¥–≤–∞ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –æ–ø–∏—Å—É—é—Ç—å –ø–µ—Ä–µ–≤–∞–≥–∏, —è–∫—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç **–Ω–∞–¥–∞—î**:
- –ó–∞–≥—Ä–æ–∑–∏, —à–∞–±–ª–æ–Ω–∏ —Ç–∞ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ —à–∞–±–ª–æ–Ω—ñ–≤ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –∑–º—ñ–Ω–µ–Ω—ñ (—Ü–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î—Ç—å—Å—è –æ–ø–∏—Å–æ–º –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π –∫–∞—Å—Ç–æ–º—ñ–∑–∞—Ü—ñ—ó)
- –°–ø–æ—Å–æ–±–∏ –∑–º–µ–Ω—à–µ–Ω–Ω—è –∞–±–æ —É—Å—É–Ω–µ–Ω–Ω—è —Ä–∏–∑–∏–∫—ñ–≤ –≤–∫–ª—é—á–µ–Ω—ñ –∑ –∫–æ–∂–Ω–æ—é –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ—é –∑–∞–≥—Ä–æ–∑–æ—é (—Ü–µ —á–∞—Å—Ç–∏–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É)


# 7.3 Visio

Microsoft Visio is recognized for its robust set of features to help anyone create quality flowcharts and data-flow diagrams. Visio tools help you visualize how an application or systems is organized towards threat modeling.

You can use Visio to create flowcharts, basic network diagrams, Venn diagrams, block diagrams, and business matrices. All while being able to start quickly and in a collaborative manner. Let's look at some other pros to using Visio and review any cons.

## Pros

Visio provides drag-and-drop functionality and the ability to annotate diagrams. Both are helpful when creating a diagram for your system.

In addition, the tool is accessible for a wide variety of users. The intuitive interface and ease of use takes minimal time to learn and set up. It shares a familiar experience to other Microsoft 365 apps.

It also includes templates for diagrams and flowcharts to help you start quickly. This alongside real-time collaboration, commenting, and sharing with the Visio web app or Visio app in Microsoft Teams makes it a valuable tool across your organization towards your threat modeling goals.

## Cons

The application doesn't offer automated threat-modeling capabilities. As a result, there's no threat-generation engine to help engineers brainstorm threats and risk-reduction strategies.

Also, when you use Visio you'll be responsible for threat modeling each element and interaction manually.

## Check your knowledge

**1. What benefit does Visio not provide?**

- Provides drag-and-drop functionality with default stencils.
- Outputs a list of generated threats to help engineers brainstorm possible ways to reduce or eliminate risk.
- Allows engineers to annotate their dataflow diagrams to provide service context.

---

**–í—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è:**

**Outputs a list of generated threats to help engineers brainstorm possible ways to reduce or eliminate risk.**

–¶–µ –ø—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å, –æ—Å–∫—ñ–ª—å–∫–∏ –≤ —Ä–æ–∑–¥—ñ–ª—ñ "Cons" —á—ñ—Ç–∫–æ –∑–∞–∑–Ω–∞—á–µ–Ω–æ, —â–æ Visio –Ω–µ –ø—Ä–æ–ø–æ–Ω—É—î –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∏—Ö –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –∑–∞–≥—Ä–æ–∑ —ñ –Ω–µ –º–∞—î –¥–≤–∏–∂–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∑–∞–≥—Ä–æ–∑ ("there's no threat-generation engine to help engineers brainstorm threats and risk-reduction strategies").

–Ü–Ω—à—ñ –¥–≤–∞ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –æ–ø–∏—Å—É—é—Ç—å –ø–µ—Ä–µ–≤–∞–≥–∏, —è–∫—ñ Visio **–Ω–∞–¥–∞—î**:
- –ó–∞–±–µ–∑–ø–µ—á—É—î —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å drag-and-drop –∑ —à–∞–±–ª–æ–Ω–∞–º–∏ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
- –î–æ–∑–≤–æ–ª—è—î —ñ–Ω–∂–µ–Ω–µ—Ä–∞–º –∞–Ω–æ—Ç—É–≤–∞—Ç–∏ –¥—ñ–∞–≥—Ä–∞–º–∏ –ø–æ—Ç–æ–∫—ñ–≤ –¥–∞–Ω–∏—Ö –¥–ª—è –Ω–∞–¥–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É —Å–µ—Ä–≤—ñ—Å—É


# 7.4 Summary

You can use any canvas, physical or virtual, to create a data-flow diagram. Engineers at Microsoft recommend a few tools to help you in your threat modeling journey.

You learned about the different tools you can use to create your data-flow diagrams.

In this module, you:
* Learned more about the Microsoft Threat Modeling Tool.
* Learned more about Visio.

**Note**  
There are many other tools available to help with your threat-modeling needs. Some require a paid subscription, while others are completely open source. You may even use a whiteboard, which does have a low learning curve but assumes threat-modeling expertise and could be difficult to save.

## Learn more

* Threat Modeling Tool
* Visio

